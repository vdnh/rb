<div class="container spacer">
    <div class="panel-heading"> 
        <h2> Gerer Transporter : {{transporter.nom}}  &nbsp;&nbsp;&nbsp; </h2>
        <button class="btn btn-link" (click)="onPress()">Voir les camions {{transporter.nom}} sur la carte</button>
    </div>
    <div>
    <h3>
        <button class="btn btn-link" (click)="onCoordonnees()">Coordonnees</button>&nbsp;&nbsp;&nbsp;
        <button class="btn btn-link" (click)="onCamions()">Liste de Camions</button>&nbsp;&nbsp;&nbsp;
        <button class="btn btn-link" (click)="onTableau()">Tableau d'Entretiens</button>
    </h3>
    </div>
    <!--div *ngIf="modeCoordonnees==1">modeCoordonnes</div>  
    <div *ngIf="modeCamions==1">modeCamions</div>
    <div *ngIf="modeTableau==1">modeTableau</div-->
  <div class="panel panel-primary" *ngIf="mode==1">
    <div class="panel-body">
        <table class="table table-striped table-sm table-responsive" *ngIf="modeCoordonnes==1" >
            <tr>
                <button class="btn btn-link" (click)="onCoorInfos()">Infos</button>&nbsp;&nbsp;&nbsp;
                <button class="btn btn-link" (click)="onCoorAddAdresse()">Add Adresse</button>&nbsp;&nbsp;&nbsp;
                <button class="btn btn-link" (click)="onCoorAddContact()">Add Contact</button>             
            </tr>
            <div *ngIf="coorInfos==1">Coordonnee Infos 
            <tr>
                <th>Nom</th><th>Raison Sociale</th><th>En Affaire Depuis</th><th>Email</th><th>Telephone</th><th>Fax</th><!--th>Photo</th-->
            </tr>
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.raison_sociale" /></td>
                <td><input class="form-control" type="date" [(ngModel)]="transporter.depuis" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.fax" /></td>
                <!--td><input class="form-control" type="text" [(ngModel)]="transporter.photo" /></td-->
            </tr>
            <tr><td colspan="2"><strong>Adresses</strong></td></tr>
            <tr>
                <th>Numero</th><th>Rue</th><th>Code Postal</th><th>Ville</th><th>Province</th><th>Pays</th>
            </tr>
            <tr *ngFor="let adresse of adresses">
                <td><input class="form-control" type="text" [(ngModel)]="adresse.num" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.rue" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.code_postal" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.ville" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.province" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.pays" /></td>
                <td><button class="btn btn-link" (click)="deleteAdress(contact.id)">Delete</button></td>
            </tr>            
            <tr><td colspan="2"><strong>Personnes a contact</strong></td></tr>
            <tr>
                <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th><!--th>Photo</th-->
            </tr>
            <tr *ngFor="let contact of contacts">
                <td><input class="form-control" type="text" [(ngModel)]="contact.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.prenom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.fonction" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.fax" /></td>
                <!--td><input class="form-control" type="text" [(ngModel)]="contact.photo" /></td-->
                <td><button class="btn btn-link" (click)="deleteContact(contact.id)">Delete</button></td>
            </tr>   
            <tr><td colspan="2"><strong>Services Offrir</strong></td></tr>
            <tr>
                <td colspan="2">Entreposage Intérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_interieue"></td>
                <td colspan="2">Entreposage Extérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_exterieur"></td>
            </tr>
            <tr>    
                <td>Transbordage : <input type="checkbox" [(ngModel)]="servicesOffre.service_transbordage"></td>
                <td>Manutention : <input type="checkbox" [(ngModel)]="servicesOffre.manutention"></td>
                <td>Cross Polt : <input type="checkbox" [(ngModel)]="servicesOffre.cross_polt"></td>
            </tr>
            </div>
            <div *ngIf="coorAddAdresse==1">Add Adresse
            <tr>
                <th>Numero</th><th>Rue</th><th>Code Postal</th><th>Ville</th><th>Province</th><th>Pays</th>
            </tr>
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.num" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.rue" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.code_postal" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.ville" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.province" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.pays" /></td>                            
                <td><button class="btn btn-link" (click)="addAdresse()">Add</button></td>
            </tr>  
            </div>                                  
            <div *ngIf="coorAddContact==1">Add Contact
            <tr>
                <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th><!--th>Photo</th-->
            </tr>
            <!--tr><td colspan="2"><strong>Ajouter de contact</strong></td></tr-->     
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.prenom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.fonction" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.fax" /></td>
                <!--td><input class="form-control" type="text" [(ngModel)]="addcontact.photo" /></td-->
                <td><button class="btn btn-link" (click)="addContact()">Add</button></td>
            </tr>   
            </div>
        </table>
        
        <table class="table table-striped table-sm table-responsive" *ngIf="modeCamions==1">
            <tr>
                <button class="btn btn-link" (click)="onCamList()">Camions</button>&nbsp;&nbsp;
                <button class="btn btn-link" (click)="onCamAdd()">Add Camion</button>
            </tr>
            <div *ngIf="camList==1">   
            <!--tr><td colspan="2"><strong>List de camions</strong></td></tr-->
            <tr>
                <th>Numero Unite</th><th>Plaque</th><th>Marque</th><th>Modele</th><th>N.I.V</th>
                <!--th>En Mission</th><th>Local Depart</th><th>Destination</th-->
            </tr>
            <tr *ngFor="let camion of camions">
                <td><input class="form-control" type="text" [(ngModel)]="camion.unite" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.plaque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.marque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.modele" /></td>
                <td colspan="2"><input class="form-control" type="text" [(ngModel)]="camion.niv"/></td>
                <!--td><input class="form-control" type="checkbox" [(ngModel)]="camion.status" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.localDepart" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.destination" /></td-->
                <td><button class="btn btn-link" (click)="gotoDetailCamion(camion.id)">Detailler</button></td>
                <!--td><button class="btn btn-primary" (click)="deleteCamion(camion.id)">Delete</button></td-->
            </tr>
            </div>   
            <div *ngIf="camAdd==1">
            <tr><td colspan="2"><strong>Ajouter de camion</strong></td></tr>     
            <tr>
                <th>Numero Unite</th><th>Plaque</th><th>Marque</th><th>Modele</th><th>N.I.V</th>
                <!--th>En Mission</th><th>Local Depart</th><th>Destination</th-->
            </tr>    
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.unite" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.plaque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.marque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.modele" /></td>
                <td colspan="2"><input class="form-control" type="text" [(ngModel)]="addcamion.niv" /></td>
                <!--td><input class="form-control" type="checkbox" [(ngModel)]="addcamion.status" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.localDepart" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.destination" /></td-->
                <td><button class="btn btn-link" (click)="addCamion()">Add</button></td>
            </tr>      
            </div>              
        </table>       
        <table class="table table-striped table-sm table-responsive" *ngIf="modeTableau==1">
            <tr>
                <th>Unite</th>
                <th *ngFor="let camion of camions" style="text-align: center">{{camion.unite}}</th>
            </tr>
            <tr>
                <th>Entretien 1</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo1Fait, 25000)}}" [disabled]="disableButton(camion.odometre, camion.odo1Fait, 25000)" (click)="onEntretien01(camion)">{{codeText(camion.odometre, camion.odo1Fait, 25000)}}</button></th>
            </tr>
            <tr>
                <th>Entretien 2</th>       
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo2Fait, 50000)}}" [disabled]="disableButton(camion.odometre, camion.odo2Fait, 50000)" (click)="onEntretien02(camion)">{{codeText(camion.odometre, camion.odo2Fait, 50000)}}</button></th>         
            </tr>            
            <tr>
                <th>Entretien 3</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo3Fait, 100000)}}" [disabled]="disableButton(camion.odometre, camion.odo3Fait, 100000)" (click)="onEntretien03(camion)">{{codeText(camion.odometre, camion.odo3Fait, 100000)}}</button></th>
            </tr>
            <tr>
                <th>Entretien 4</th>          
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo4Fait, camion.filHydrolique)}}" [disabled]="disableButton(camion.odometre, camion.odo4Fait, camion.filHydrolique)" (click)="onEntretien04(camion)">{{codeText(camion.odometre, camion.odo4Fait, camion.filHydrolique)}}</button></th>      
            </tr>
            <tr>
                <th>Entretien 5</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo5Fait, camion.filAntigel)}}" [disabled]="disableButton(camion.odometre, camion.odo5Fait, camion.filAntigel)" (click)="onEntretien05(camion)">{{codeText(camion.odometre, camion.odo5Fait, camion.filAntigel)}}</button></th>
            </tr>
            <tr>
                <th>Entretien 6</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo6Fait, camion.huileAntigel)}}" [disabled]="disableButton(camion.odometre, camion.odo6Fait, camion.huileAntigel)" (click)="onEntretien06(camion)">{{codeText(camion.odometre, camion.odo6Fait, camion.huileAntigel)}}</button></th>
            </tr>
            <tr>
                <th>Entretien 7</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo7Fait, camion.huileTransmission)}}" [disabled]="disableButton(camion.odometre, camion.odo7Fait, camion.huileTransmission)" (click)="onEntretien07(camion)">{{codeText(camion.odometre, camion.odo7Fait, camion.huileTransmission)}}</button></th>
            </tr>
            <tr>
                <th>Entretien 8</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleur(camion.odometre, camion.odo8Fait, camion.huileDifferentiel)}}" [disabled]="disableButton(camion.odometre, camion.odo8Fait, camion.huileDifferentiel)" (click)="onEntretien08(camion)">{{codeText(camion.odometre, camion.odo8Fait, camion.huileDifferentiel)}}</button></th>
            </tr>
            <tr>
                <th>Inspection 6mois</th>                
                <th *ngFor="let camion of camions"><button class="btn btn-sm {{codeCouleurInspect(camion.inspect6m)}}" [disabled]="disableButtonInspect(camion.inspect6m)" (click)="onInspect6(camion)">{{codeTextInspect(camion.inspect6m)}}</button></th>
            </tr>
        </table>          
    </div>   
    <div>
        <table class="table table-striped table-responsive"> 
            <td><button class="btn btn-primary" (click)="saveTransporter()">Ok - Modifier Transporter</button></td>
            <td *ngIf='!quitButton.includes("TRANSPORTER")'><button class="btn btn-primary" routerLink="/transporters">Quit</button></td> 
            <td></td>
            <td></td>
            <td></td>
            <td></td>                  
        </table>
    </div>
  </div>

  <div class="panel panel-primary" *ngIf="mode==2">
        <div class="panel-heading">Confirmation</div>
        <div class="panel-body">
                <table class="table table-striped table-responsive">
                        <tr>
                            <th>Nom</th><th>Raison Sociale</th><th>En Affaire Depuis</th><th>Email</th><th>Telephone</th><th>Fax</th><!--th>Photo</th-->
                        </tr>
                        <tr>
                            <td>{{transporter.nom}}</td><td>{{transporter.raison_sociale}}</td><td>{{transporter.depuis}}</td><td>{{transporter.email}}</td><td>{{transporter.tel}}</td><td>{{transporter.fax}}</td><!--td>{{transporter.photo}}</td-->
                        </tr>
                        <tr><td colspan="2"><strong>Adresse</strong></td></tr>
                        <tr>
                            <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th>
                        </tr>     
                        <tr *ngFor="let adresse of adresses">
                            <td>{{adresse.num}}</td><td>{{adresse.rue}}</td><td>{{adresse.code_postal}}</td><td>{{adresse.ville}}</td><td>{{adresse.province}}</td><td>{{adresse.pays}}</td>
                        </tr>                                         
                        <tr><td colspan="2"><strong>Personnes a contact</strong></td></tr>
                        <tr>
                            <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th>
                        </tr>
                        <tr *ngFor="let contact of contacts">
                            <td>{{contact.nom}}</td><td>{{contact.prenom}}</td><td>{{contact.fonction}}</td><td>{{contact.email}}</td><td>{{contact.tel}}</td><td>{{contact.fax}}</td>
                        </tr>   
                        <tr><td colspan="2"><strong>Services Offrir</strong></td></tr>
                        <tr>
                          <td>Entreposage Intérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_interieue" disabled></td>
                          <td>Entreposage Extérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_exterieur" disabled></td>
                          <td>Transbordage : <input type="checkbox" [(ngModel)]="servicesOffre.service_transbordage" disabled></td>
                          <td>Manutention : <input type="checkbox" [(ngModel)]="servicesOffre.manutention" disabled></td>
                          <td>Cross Polt : <input type="checkbox" [(ngModel)]="servicesOffre.cross_polt" disabled></td>
                        </tr>                    
                        <tr><td colspan="2"><strong>List de Camions</strong></td></tr>
                        <tr>
                            <th>Numero Unite</th><th>Plaque</th><th>Marque</th><th>Latitude</th><th>Longtitude</th><th>En Mission</th><th>Local Depart</th><th>Destination</th>
                        </tr>    
                        <tr *ngFor="let camion of camions">
                            <td>{{camion.unite}}</td>
                            <td>{{camion.plaque}}</td>
                            <td>{{camion.marque}}</td>
                            <td>{{camion.latitude}}</td>
                            <td>{{camion.longtitude}}</td>
                            <td><input type="checkbox" [(ngModel)]="camion.status" disabled></td>
                            <td>{{camion.localDepart}}</td>
                            <td>{{camion.destination}}</td>                            
                        </tr>                                               
                    </table>
            <div> <button class="btn btn-primary" (click)="mode=1" routerLink="/transporters">Ok</button></div>
        </div>   
  </div>

</div>