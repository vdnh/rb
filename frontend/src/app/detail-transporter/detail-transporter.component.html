<div class="container spacer">
  <div class="panel panel-primary" *ngIf="mode==1">
    <div class="panel-heading"> 
        <label> Edit transporter : {{transporter.nom}}  &nbsp;&nbsp;&nbsp; </label>
        <button class="btn btn-primary" (click)="onPress()">Voir les camions {{transporter.nom}} sur la carte</button>
        <p></p>
    </div>
    <div class="panel-body">
        <table class="table table-striped table-sm table-responsive">
            <tr>
                <th>Nom</th><th>Raison Sociale</th><th>En Affaire Depuis</th><th>Email</th><th>Telephone</th><th>Fax</th><th>Photo</th>
            </tr>
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.raison_sociale" /></td>
                <td><input class="form-control" type="date" [(ngModel)]="transporter.depuis" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.fax" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="transporter.photo" /></td>
            </tr>
            <tr><td colspan="2"><strong>Adresses</strong></td></tr>
            <tr>
                <th>Numero</th><th>Rue</th><th>Code Postal</th><th>Ville</th><th>Province</th><th>Pays</th>
            </tr>
            <tr *ngFor="let adresse of adresses">
                <td><input class="form-control" type="text" [(ngModel)]="adresse.num" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.rue" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.code_postal" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.ville" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.province" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="adresse.pays" /></td>
                <td><button class="btn btn-primary" (click)="deleteAdress(contact.id)">Delete</button></td>
            </tr>            
            <tr><td colspan="2"><strong>Ajouter d'adresse</strong></td></tr>     
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.num" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.rue" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.code_postal" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.ville" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.province" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addadresse.pays" /></td>                            
                <td><button class="btn btn-primary" (click)="addAdresse()">Add</button></td>
            </tr>                                    
            <tr><td colspan="2"><strong>Personnes a contact</strong></td></tr>
            <tr>
                <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th><th>Photo</th>
            </tr>
            <tr *ngFor="let contact of contacts">
                <td><input class="form-control" type="text" [(ngModel)]="contact.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.prenom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.fonction" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.fax" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="contact.photo" /></td>
                <td><button class="btn btn-primary" (click)="deleteContact(contact.id)">Delete</button></td>
            </tr>   
            <tr><td colspan="2"><strong>Ajouter de contact</strong></td></tr>     
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.nom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.prenom" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.fonction" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.email" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.tel" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.fax" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcontact.photo" /></td>
                <td><button class="btn btn-primary" (click)="addContact()">Add</button></td>
            </tr>   
            <tr><td colspan="2"><strong>Services Offrir</strong></td></tr>
            <tr>
                <td>Entreposage Intérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_interieue"></td>
                <td>Entreposage Extérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_exterieur"></td>
                <td>Transbordage : <input type="checkbox" [(ngModel)]="servicesOffre.service_transbordage"></td>
                <td>Manutention : <input type="checkbox" [(ngModel)]="servicesOffre.manutention"></td>
                <td>Cross Polt : <input type="checkbox" [(ngModel)]="servicesOffre.cross_polt"></td>
            </tr>   
            <tr><td colspan="2"><strong>List de camions</strong></td></tr>
            <tr>
                <th>Numero Unite</th><th>Plaque</th><th>Marque</th><th>Latitude</th><th>Longtitude</th><th>En Mission</th><th>Local Depart</th><th>Destination</th>
            </tr>
            <tr *ngFor="let camion of camions">
                <td><input class="form-control" type="text" [(ngModel)]="camion.unite" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.plaque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.marque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.latitude" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.longtitude" /></td>
                <td><input class="form-control" type="checkbox" [(ngModel)]="camion.status" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.localDepart" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.destination" /></td>
                <td><button class="btn btn-primary" (click)="deleteCamion(camion.id)">Delete</button></td>
            </tr>   
            <tr><td colspan="2"><strong>Ajouter de camion</strong></td></tr>     
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.unite" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.plaque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.marque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.latitude" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.longtitude" /></td>
                <td><input class="form-control" type="checkbox" [(ngModel)]="addcamion.status" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.localDepart" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="addcamion.destination" /></td>
                <td><button class="btn btn-primary" (click)="addCamion()">Add</button></td>
            </tr>                    
        </table>                 
    </div>   
    <div>
        <table class="table table-striped table-responsive"> 
            <td><button class="btn btn-primary" (click)="saveTransporter()">Ok - Modifier Transporter</button></td>
            <td><button class="btn btn-primary" routerLink="/transporters">Quit</button></td> 
            <td></td>
            <td></td>
            <td></td>
            <td></td>                  
        </table>
    </div>
  </div>

  <div class="panel panel-primary" *ngIf="mode==2">
        <div class="panel-heading">Confirmation</div>
        <div class="panel-body">
                <table class="table table-striped table-responsive">
                        <tr>
                            <th>Nom</th><th>Raison Sociale</th><th>En Affaire Depuis</th><th>Email</th><th>Telephone</th><th>Fax</th><th>Photo</th>
                        </tr>
                        <tr>
                            <td>{{transporter.nom}}</td><td>{{transporter.raison_sociale}}</td><td>{{transporter.depuis}}</td><td>{{transporter.email}}</td><td>{{transporter.tel}}</td><td>{{transporter.fax}}</td><td>{{transporter.photo}}</td>
                        </tr>
                        <tr><td colspan="2"><strong>Adresse</strong></td></tr>
                        <tr>
                            <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th>
                        </tr>     
                        <tr *ngFor="let adresse of adresses">
                            <td>{{adresse.num}}</td><td>{{adresse.rue}}</td><td>{{adresse.code_postal}}</td><td>{{adresse.ville}}</td><td>{{adresse.province}}</td><td>{{adresse.pays}}</td>
                        </tr>                                         
                        <tr><td colspan="2"><strong>Personnes a contact</strong></td></tr>
                        <tr>
                            <th>Nom</th><th>Prenom</th><th>Fonction</th><th>Email</th><th>Telephone</th><th>Fax</th>
                        </tr>
                        <tr *ngFor="let contact of contacts">
                            <td>{{contact.nom}}</td><td>{{contact.prenom}}</td><td>{{contact.fonction}}</td><td>{{contact.email}}</td><td>{{contact.tel}}</td><td>{{contact.fax}}</td>
                        </tr>   
                        <tr><td colspan="2"><strong>Services Offrir</strong></td></tr>
                        <tr>
                          <td>Entreposage Intérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_interieue" disabled></td>
                          <td>Entreposage Extérieur : <input type="checkbox" [(ngModel)]="servicesOffre.entreposage_exterieur" disabled></td>
                          <td>Transbordage : <input type="checkbox" [(ngModel)]="servicesOffre.service_transbordage" disabled></td>
                          <td>Manutention : <input type="checkbox" [(ngModel)]="servicesOffre.manutention" disabled></td>
                          <td>Cross Polt : <input type="checkbox" [(ngModel)]="servicesOffre.cross_polt" disabled></td>
                        </tr>                    
                        <!--tr>
                            <td colspan="2"><input type="checkbox" [(ngModel)]="servicesOffre.entreposage_interieue" disabled></td>                            
                            <td colspan="2"><input type="checkbox" [(ngModel)]="servicesOffre.entreposage_exterieur" disabled></td>
                            <td><input type="checkbox" [(ngModel)]="servicesOffre.service_transbordage" disabled></td>
                            <td><input type="checkbox" [(ngModel)]="servicesOffre.manutention" disabled></td>
                            <td><input type="checkbox" [(ngModel)]="servicesOffre.cross_polt" disabled></td>
                        </tr-->          
                        <tr><td colspan="2"><strong>List de Camions</strong></td></tr>
                        <tr>
                            <th>Numero Unite</th><th>Plaque</th><th>Marque</th><th>Latitude</th><th>Longtitude</th><th>En Mission</th><th>Local Depart</th><th>Destination</th>
                        </tr>    
                        <tr *ngFor="let camion of camions">
                            <td>{{addcamion.unite}}</td>
                            <td>{{addcamion.plaque}}</td>
                            <td>{{addcamion.marque}}</td>
                            <td>{{addcamion.latitude}}</td>
                            <td>{{addcamion.longtitude}}</td>
                            <td><input type="checkbox" [(ngModel)]="addcamion.status" disabled></td>
                            <td>{{addcamion.localDepart}}</td>
                            <td>{{addcamion.destination}}</td>                            
                        </tr>                                               
                    </table>
            <div> <button class="btn btn-primary" (click)="mode=1" routerLink="/transporters">Ok</button></div>
        </div>   
  </div>

</div>