<h4 style="text-align: center; font: bold">Demande Express</h4>
<hr style="border: 1px dotted black"/>
<div *ngIf="modeHistoire==1">
  <div class="row">
    <div class="col-md-4 col-sm-4 col-lg-4">
      <button (click)="onHistoire()" class="btn btn-link">NouvelleAppel</button>    
    </div>
    <div class="col-md-4 col-sm-4 col-lg-4">
      <button (click)="onRefresh()" class="btn btn-link">Refresh</button>    
    </div>
  </div>
  <hr style="border: 1px dotted black"/>
  <div class="row">
    <div class="col-md-4 col-sm-4 col-lg-4" style="color: green; text-align: center">
      Appels en Attente
    </div>
    <div class="col-md-4 col-sm-4 col-lg-4" style="color: orange; text-align: center">
      Appels en Cours
    </div>
    <div class="col-md-4 col-sm-4 col-lg-4" style="color: red; text-align: center">
      Appels Finis
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 col-sm-4 col-lg-4">
      <table class="table">
        <tr style="background-color: whitesmoke">
          <th>Numero</th><th (click)='onSortDate(listRqs)'>DateReserve</th><th>Provenant</th>
        </tr>
        <tr *ngFor="let r of listRqs" style="color: green; background-color: whitesmoke">
          <td (click)="gotoDetailRemorquage(r)">{{r.id}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.dateReserve}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.nomEntreprise}}</td>
        </tr>
      </table>
    </div>
    <div class="col-md-4 col-sm-4 col-lg-4">
      <table class="table">
        <tr style="background-color: whitesmoke">
          <th>Numero</th><th (click)='onSortDate(listRqsSent)'>DateReserve</th><th>Provenant</th>
        </tr>
        <tr *ngFor="let r of listRqsSent" style="color:orange; background-color: whitesmoke">
          <td (click)="gotoDetailRemorquage(r)">{{r.id}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.dateReserve}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.nomEntreprise}}</td>
        </tr>
      </table>
    </div>
    <div class="col-md-4 col-sm-4 col-lg-4">
      <table class="table">
        <tr style="background-color: whitesmoke">
          <th>Numero</th><th (click)='onSortDate(listRqsFini)'>DateReserve</th><th>Provenant</th>
        </tr>
        <tr *ngFor="let r of listRqsFini" style="color: red; background-color: whitesmoke">
          <td (click)="gotoDetailRemorquage(r)">{{r.id}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.dateReserve}}</td>
          <td (click)="gotoDetailRemorquage(r)">{{r.nomEntreprise}}</td>
        </tr>
      </table>
    </div>
  </div>
</div>

<div *ngIf="modeHistoire==-1">
  <div class="panel panel-primary">
    <!--div class="col-sm-12 col-lg-12 col-md-12">
      <div class="row">
        <button (click)="onSave()" class="btn btn-link"  [disabled]="remorquage.id!=null">NumeroterAppel</button>
        <button (click)="onReset()" class="btn btn-link" *ngIf="(remorquage.id>0)">NouvelleAppel</button>           
        <button (click)="onFini()" class="btn btn-link" [disabled]="(!(remorquage.id>0)||remorquage.fini)">TerminerAppel</button>         
        <button (click)="onCancel()" class="btn btn-link" [disabled]="(!(remorquage.id>0)||remorquage.fini)">AnnulerAppel</button>
        <button (click)="onHistoire()" class="btn btn-link">Gestion-Des-Appels</button>
        <br><br><br>
      </div>
      <hr style="border: 2px solid lightgray"/>
      <div class="row">
        <div class="col-md-4 col-sm-4 col-lg-4">
            <h4><label>
            Repartiteur <input type="text" [(ngModel)]="remorquage.nomDispatch" name="nomDispatch" class="form-control">
            </label></h4> 
        </div>
        <div class="col-md-4 col-sm-4 col-lg-4">
          <h4>
            {{remorquage.dateDepart | date: 'yyyy-MMM-dd'}} - {{remorquage.timeCall}}      
          </h4>
        </div>
        <div class="col-md-4 col-sm-4 col-lg-4">
          <h4>BonNumero : {{remorquage.id}} </h4>
        </div>
      </div>
      <hr style="border: 1px solid lightgray"/>
    </div-->
    <div class="panel-body">
      <!--div class="row">
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Provenant</label>
            <input type="text" [(ngModel)]="remorquage.nomEntreprise"
                  name="nomEntreprise" (change)="nomEntrepriseInputChange()" class="form-control"
                  (focusout)="typeServiceChange(remorquage.typeService)" list="defaultShippers">
            <datalist id="defaultShippers">
              <option *ngFor="let e of listShipper" [ngValue]="e">{{e.nom}}</option>
            </datalist>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">#PO</label>
            <input type="text" [(ngModel)]="remorquage.numPO" name="numPO"
                  class="form-control">
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">DateReserve</label>              
            <input type="date" [ngModel]="remorquage.dateReserve | date: 'yyyy-MM-dd'"
                  name="dateReserve" min="{{today | date: 'yyyy-MM-dd'}}"
                  class="form-control" (change)="dateChange($event)"/>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">HeureReserve</label>
            <input type="time" [(ngModel)]="remorquage.timeResrvation"
                  name="timeResrvation" class="form-control">
          </div>
        </div>
      </div-->
      <div class="row">
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Contact</label>
            <input type="text"  [(ngModel)]="remorquage.nomClient" name="nomClient" 
            placeholder="nom de contact" class="form-control">
            <!--datalist id="defaultContacts">
              <option *ngFor="let e of contacts" [ngValue]="e">{{e.nom}}</option>
            </datalist-->
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Telephone</label>
            <input type="tel" [(ngModel)]="remorquage.telClient" name="telContact"
                  class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                  (focusout)="remorquage.telClient=reformTelEvent($event)" required>
          </div>
        </div>
        <!--div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Extension</label>
            <input type="text" [(ngModel)]="remorquage.extTelContact" name="extTelContact"
                  class="form-control">
          </div>
        </div-->
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Courriel</label>
            <input type="email" [(ngModel)]="remorquage.telClient2em" name="emailContact" class="form-control" 
            placeholder="xyz@domain.com" required>
          </div>
        </div>
      </div>

      <hr style="border: 2px solid lightgray"/>
      
      <!--div class="row">
        <div class="col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <label for="">Client</label>
            <input type="text"  [(ngModel)]="remorquage.nomClient"
                  name="nomClient" class="form-control">
          </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <label for="">Tel 1er</label>
            <input type="tel" [(ngModel)]="remorquage.telClient" name="telClient"
                  class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                  (focusout)="remorquage.telClient=reformTelEvent($event)" required>
          </div>
        </div>
        <div class="col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <label for="">Tel 2em</label>
            <input type="tel" [(ngModel)]="remorquage.telClient2em" name="telClient2em"
                  class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                  (focusout)="remorquage.telClient2em=reformTelEvent($event)">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label>Type</label>
            <select type="text"  class="form-control" [ngModel]="remorquage.typeService"
                (ngModelChange)="typeServiceChange($event)">
              <option *ngFor="let s of serviceTypes" [ngValue]="s">{{s}}</option>
            </select>
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Marque</label>
            <input type="text"  [(ngModel)]="remorquage.marque" name="marque"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Modele</label>
            <input type="text"  [(ngModel)]="remorquage.modele" name="modele"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Plaque</label>
            <input type="text"  [(ngModel)]="remorquage.plaque" name="plaque"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Couleur</label>
            <input type="text"  [(ngModel)]="remorquage.couleur" name="couleur"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Serie</label>
            <input type="text" [(ngModel)]="remorquage.serie" name="serie"
                  class="form-control" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Panne <input type="checkbox" [(ngModel)]="remorquage.panne" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Accident <input type="checkbox" [(ngModel)]="remorquage.accident" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>PullOut <input type="checkbox" [(ngModel)]="remorquage.pullOut" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>DebaragePorte <input type="checkbox"
                          [(ngModel)]="remorquage.debaragePorte" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Survoltage <input type="checkbox" [(ngModel)]="remorquage.survoltage" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Essence <input type="checkbox" [(ngModel)]="remorquage.essence" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>ChangementPneu <input type="checkbox"
                            [(ngModel)]="remorquage.changementPneu" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3">
          <label class="control-label">&nbsp;</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Numero & Rue</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Ville</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Province</label>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-3">
          <label class="control-label">Origin</label>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.originAdresse" name="origin"
                class="form-control" (change)="originChange()" />
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.originVille" name="originVille"
          class="form-control" (change)="originChange()" list="defaultVilles">
          <datalist id="defaultVilles">
              <option *ngFor="let v of villeListO" [ngValue]="v">{{v}}</option>
          </datalist>
        </div>
        <div class="col-sm-3">
          <select type="text" class="form-control" [(ngModel)]="remorquage.originProvince"
              (ngModelChange)="originChange()">
            <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
          </select>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-3">
          <label class="control-label">Destination</label>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.destAdresse" name="origin"
                class="form-control" (change)="destinationChange()" />
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.destVille" name="destVille"
          class="form-control" (change)="destinationChange()" list="defaultVillesD">
          <datalist id="defaultVillesD">
              <option *ngFor="let v of villeListD" [ngValue]="v">{{v}}</option>
          </datalist>
        </div>
        <div class="col-sm-3">
          <select type="text" class="form-control" [(ngModel)]="remorquage.destProvince"
              (ngModelChange)="destinationChange()">
            <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
          </select>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-3"><label class="control-label">Note Additionnelle</label></div>
        <div class="col-sm-9">
          <textarea name="comments" class="form-control" cols="80" rows="1"
                [(ngModel)]="remorquage.comments"
                style="margin-top: 0px"></textarea>
        </div>
      </div>
      
      <hr style="border: 2px solid lightgray"/-->
      
      <!--div class="row">
        <div class="col-sm-12 col-md-1 col-lg-1"><label class="control-label">Detail</label></div>
        <div class="col-sm-12 col-md-11 col-lg-11">
          <textarea name="comments" class="form-control" cols="80" rows="3"
                [(ngModel)]="remorquage.driverNote" style="margin-bottom: 0px"
                style="margin-top: 0px"></textarea>
        </div>
      </div-->
      <!--div class="row">
        <div class="col-sm-3">
          <label class="control-label">&nbsp;</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Numero & Rue</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Ville</label>
        </div>
        <div class="col-sm-3">
          <label class="control-label">Province</label>
        </div>
      </div-->
      <div class="row">
        <div class="col-sm-3">
          <label class="control-label">Endroit de la panne </label>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.originAdresse" name="origin"
          (ngModelChange)="originChange()" class="form-control" placeholder="Numero & Rue"/>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.originVille" name="originVille"
          class="form-control" list="defaultVilles" (ngModelChange)="originChange()" placeholder="Ville">
          <datalist id="defaultVilles">
              <option *ngFor="let v of villeListO" [ngValue]="v">{{v}}</option>
          </datalist>
        </div>
        <div class="col-sm-3">
          <select type="text" class="form-control" [(ngModel)]="remorquage.originProvince" (ngModelChange)="originChange()">
            <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
          </select>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-sm-3">
          <label class="control-label">Endroit de livraison </label>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.destAdresse" name="origin" 
          (change)="destinationChange()" class="form-control" placeholder="Numero & Rue"/>
        </div>
        <div class="col-sm-3">
          <input type="text" [(ngModel)]="remorquage.destVille" name="destVille"
          (change)="destinationChange()" class="form-control" list="defaultVillesD" placeholder="Ville">
          <datalist id="defaultVillesD">
              <option *ngFor="let v of villeListD" [ngValue]="v">{{v}}</option>
          </datalist>
        </div>
        <div class="col-sm-3">
          <select type="text" class="form-control" [(ngModel)]="remorquage.destProvince" (change)="destinationChange()">
            <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
          </select>
        </div>
      </div>
      
      <br>
      <div class="row">                  
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Marque de voiture</label>
            <input type="text"  [(ngModel)]="remorquage.marque" name="marque"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Modele</label>
            <input type="text"  [(ngModel)]="remorquage.modele" name="modele"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Annee</label>
            <input type="text" [(ngModel)]="remorquage.serie" name="serie"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Couleur</label>
            <input type="text"  [(ngModel)]="remorquage.couleur" name="couleur"
                  class="form-control" />
          </div>
        </div>
        <div class="col-sm-12 col-md-2 col-lg-2">
          <div class="form-group">
            <label >Plaque</label>
            <input type="text"  [(ngModel)]="remorquage.plaque" name="plaque"
                  class="form-control" />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Panne <input type="checkbox" [(ngModel)]="remorquage.panne" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Accident <input type="checkbox" [(ngModel)]="remorquage.accident" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>PullOut <input type="checkbox" [(ngModel)]="remorquage.pullOut" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>DebaragePorte <input type="checkbox"
                          [(ngModel)]="remorquage.debaragePorte" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Survoltage <input type="checkbox" [(ngModel)]="remorquage.survoltage" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>Essence <input type="checkbox" [(ngModel)]="remorquage.essence" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label>ChangementPneu <input type="checkbox"
                            [(ngModel)]="remorquage.changementPneu" (change)="typeServiceChange(remorquage.typeService)"></label>
          </div>
        </div>
      </div>
      <hr  *ngIf="titreAjout.length==0" style="border: 2px solid lightgray"/>
      <div class="row" *ngIf="titreAjout.length==0">
        <div class="col-sm-12 col-md-2 col-lg-2">
          <label class="control-label">Vous n'etes pas un robot!</label>
        </div>
        <div class="col-sm-12 col-md-3 col-lg-3">
          <label class="control-label">35 + 26 = </label>
          <input style="width: 8ch" type="number" [(ngModel)]="answer" 
          [disabled]="!checkValid()">
        </div>
      </div>
      <!--div class="row">
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Camion</label>
            <input type="text" [(ngModel)]="remorquage.camionAttribue" 
              name="camionAttribue" list="defaultCamions" class="form-control" required>
            <datalist id="defaultCamions">
                <option *ngFor="let c of camions" [ngValue]="c">{{c.unite}}</option>
            </datalist>
          </div>
        </div>          
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Chauffeur</label>
            <input type="text"  [(ngModel)]="remorquage.nomIntervenant" (change)="chauffeurChange()"
                  name="nomIntervenant" class="form-control" list="defaultChauffeurs">
            <datalist id="defaultChauffeurs">
              <option *ngFor="let e of chauffeurs" [ngValue]="e">{{e.nom+'  .Id.'+e.id}}</option>
            </datalist>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Telephone</label>
            <input type="tel" [(ngModel)]="remorquage.telIntervenant" name="telIntervenant"
                  class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                  (focusout)="remorquage.telIntervenant=reformTelEvent($event)" required>
          </div>
        </div>
        <div class="col-sm-6 col-md-3 col-lg-3">
          <div class="form-group">
            <label for="">Courriel</label>
            <input type="email" [(ngModel)]="remorquage.emailIntervenant" name="emailIntervenant" class="form-control" list="defaultEmails" 
            required>
              <datalist id="defaultEmails">
              </datalist>
          </div>
        </div>
      </div-->

      <!--hr style="border: 2px solid lightgray"/>

      <div *ngIf="mode==2" class="row" style="margin-top: 10px">
        <div class="col-md-3">
          <div class="form-group">
            <label *ngIf="mode==2" class="control-label">PrixBase</label>
            <input type="number" [(ngModel)]="remorquage.prixBase" name="prixBase"
                  class="form-control" (change)="prixCalcul()" />
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <label *ngIf="mode==2" class="control-label">Prix/Km</label>
            <input type="number" [(ngModel)]="remorquage.prixKm" name="prixKm" class="form-control"
                  (change)="prixCalcul()" [disabled]="!(remorquage.accident || remorquage.panne)"/>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <label *ngIf="mode==2" class="control-label">Inclus</label>
            <input type="number" [(ngModel)]="remorquage.inclus" name="inclus" class="form-control"
                  (change)="prixCalcul()" [disabled]="!(remorquage.accident || remorquage.panne)"/>
            <label class="control-label">Porter au Compte</label>
            <input type="number" [(ngModel)]="remorquage.porterAuCompte" name="porterAuCompte" class="form-control"
            (change)="prixCalcul()"/>
          </div>
        </div>
        <div class="col-md-2">
          <label class="control-label">Kms</label>
          <input type="number" [(ngModel)]="remorquage.distance" name="distance" class="form-control" disabled/>
          <label class="control-label">Collecter d'argent</label>
          <input type="number" [(ngModel)]="remorquage.collecterArgent" name="collecterArgent" class="form-control"/>
        </div>
        <div class="col-md-2">
          <label class="control-label" style="font-weight: bold; align-content: center">A Payer</label>
          <table  >
            <tr>
              <td style="text-align: right">HorsTax:</td>
              <td style="text-align: right">{{remorquage.horstax | number : '1.2'}}</td>
            </tr>
            <tr>
              <td style="text-align: right">TPS:</td>
              <td style="text-align: right">{{remorquage.tps | number : '1.2'}}</td>
            </tr>
            <tr>
              <td style="text-align: right">TVQ:</td>
              <td style="text-align: right">{{remorquage.tvq | number : '1.2'}}</td>
            </tr>
            <tr>
              <td style="text-align: right">TOTAL:</td>
              <td style="text-align: right">{{remorquage.total | number : '1.2'}}</td>
            </tr>
          </table>
        </div>
      </div-->
    </div>
  </div>
</div>


<hr style="border: 2px solid lightgray"/>
<div *ngIf="modeHistoire==-1">
  <!--button (click)="printBonDeRemorquage('toprint')" class="btn btn-link">Print</button-->
  <!--button (click)="remorquage.valid=true; onSavePlusAlert()" class="btn btn-link" [disabled]="remorquage.fini">Enregistrer</button-->
  <button [disabled]="!(answer==61)" (click)="remorquage.valid=true; onEnvoyer()" class="btn btn-primary">
      <span>Demander a SOSPrestige</span>
  </button>
  <br>
</div>
  <br>
  <div class="row" [hidden]="modeHistoire==1 || remorquage.fini || remorquage.id==null">
    <div style="float: left; width:70%" class="row">
      <div class="col-md-12">
        <div class="text-center">
          <h3>
            <div #gmap style="width:100%;height:500px"></div>
          </h3>
        </div>
      </div>
    </div>

    <div id="right-panel" style="float: right; width:30%; font-size: 9pt"></div>
  </div>
  <div id="toprint" hidden  *ngIf="modeHistoire==-1">
    <table border='1' id='Tablbpm2' style="font-size: 12pt; margin-inline: 5px">
      <tr>
        <td style="text-align: center; text-anchor: start ">Heure d'Appel <br> <span>&nbsp;{{remorquage.dateDepart | date: 'yyyy-MMM-dd'}} - {{remorquage.timeCall}}</span></td>
        <td style="text-align: center; text-anchor: start ">Contact <br> <span>&nbsp;{{remorquage.nomClient}}</span></td>
        <td style="text-align: center; text-anchor: start ">Telephone <br> <span>&nbsp;{{remorquage.telClient}}</span></td>
        <td style="text-align: center; text-anchor: start ">Courriel <br> <span>&nbsp;{{remorquage.telClient2em}}</span></td>
      </tr>
      <tr> 
        <td colspan="5"style="text-align: left; text-anchor: start ">
          <span>Demande Remorquage : &nbsp;{{remorquage.marque}} &nbsp;&nbsp; {{remorquage.modele}} &nbsp;&nbsp; {{remorquage.couleur}} &nbsp;&nbsp; {{remorquage.serie}} . <br>&nbsp;</span>
          <span>&nbsp;De:&nbsp;&nbsp; {{remorquage.origin}} &nbsp;&nbsp;. A:&nbsp;&nbsp; {{remorquage.destination}} .<br>&nbsp;</span>
        </td>
      </tr>
    </table>
  </div>
  <div id="tosms" hidden  *ngIf="modeHistoire==-1">
    <table id='Tablbpm2' style="font-size: 12pt; margin-inline: 5px">
      <tr>
        <td>
          <span>&nbsp;{{remorquage.nomClient}} <br>&nbsp; - tel: </span>  
        </td>
        <td>
          <span>&nbsp;{{remorquage.telClient}} <br>&nbsp; - email: </span>  
        </td>
        <td>
          <span>&nbsp;{{remorquage.telClient2em}} <br>&nbsp; - Demande Remorquage: &nbsp;</span>  
        </td>
      </tr>
      <tr> 
        <td colspan="5"style="text-align: left; text-anchor: start ">
          <span>&nbsp;{{remorquage.marque}} &nbsp;&nbsp; {{remorquage.modele}} &nbsp;&nbsp; {{remorquage.couleur}} &nbsp;&nbsp; {{remorquage.serie}} . <br>&nbsp;</span>
          <span>&nbsp;De:&nbsp;&nbsp; {{remorquage.origin}} &nbsp;&nbsp;. A:&nbsp;&nbsp; {{remorquage.destination}} .<br>&nbsp;</span>
        </td>
      </tr>
    </table>
  </div>