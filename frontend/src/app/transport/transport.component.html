<!-- <div>
  <label class="control-label">Select Client</label>
  <select class="form-control" [(ngModel)]="shipper" (ngModelChange)="shipperChange()" style="width: 25ch;">
    <option [ngValue]="null">All</option>
    <option *ngFor="let shp of listShipper" [ngValue]="shp">{{shp.nom}}</option>
  </select>
</div> -->
<div>
  <label class="control-label"><strong>Clients</strong></label>
  <select class="form-control" [(ngModel)]="shipper" (ngModelChange)="shipperChange()" style="width: 25ch;">
    <option [ngValue]="null" selected>All</option>
    <option *ngFor="let shp of listShipper" [ngValue]="shp">{{shp.nom}}</option>
  </select>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
  <!-- <button class="btn btn-link" (click)="transport.typeDoc=2; modeListEvalue=false; modeListCommande=false" [disabled]="transport.typeDoc==2 || transport.id>0">Placer une Commande</button>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>  -->
  
  <button class="btn btn-link" (click)="onListCommande()" [disabled]="transport.typeDoc!=0">
    <span *ngIf="varsGlobal.language.includes('Francais')">Commandes</span>
    <span *ngIf="varsGlobal.language.includes('English')">Orders</span>
  </button>
  <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
  <button class="btn btn-link" (click)="onListEvalue()" [disabled]="transport.typeDoc!=0">
    <span *ngIf="varsGlobal.language.includes('Francais')">Prix Evalu√©s</span>
    <span *ngIf="varsGlobal.language.includes('English')">Prices Evaluated</span>
  </button>
  <span *ngIf="shipper!=null && shipper.id!=null && shipper.id>0">
    <button class="btn btn-link" (click)="onEvaluateRate()" [disabled]="transport.typeDoc==1 || transport.id>0">
      <span *ngIf="varsGlobal.language.includes('Francais')">Evaluer un Taux</span>
      <span *ngIf="varsGlobal.language.includes('English')">Evaluate a Rate</span>
    </button>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <button class="btn btn-link" (click)="resetSimple()" [disabled]="transport.typeDoc==0">Reset</button>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
  </span>
  
  <br>

  <!-- list commandes -->
  <div *ngIf="modeListCommande">
    <table border="1">
      <tr *ngIf="varsGlobal.language.includes('Francais')">
        <th colspan="10">Commandes</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('English')">
        <th colspan="10">Orders</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('Francais')">
        <th>#Num</th>
        <th>&nbsp;Client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
        <th>Email</th>
        <th>Type</th>        
        <th>DateCommande</th>
        <th>&nbsp;&nbsp;Prix&nbsp;&nbsp;</th>
        <th style="width: 20%;">De</th>
        <th style="width: 20%;">A</th>
        <th>Camion</th>
        <th>Delete</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('English')">
        <th>#Num</th>
        <th>&nbsp;Client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
        <th>Email</th>
        <th>Type</th>        
        <th>DateOrder</th>
        <th>&nbsp;&nbsp;Price&nbsp;&nbsp;</th>
        <th style="width: 20%;">From</th>
        <th style="width: 20%;">To</th>
        <th>Truck</th>
        <th>Delete</th>
      </tr>
      <tr *ngIf="listTrsCommandToShow==null || listTrsCommandToShow.length==0"><th colspan="9">&nbsp;</th></tr>
      <tr *ngFor="let trCm of listTrsCommandToShow">
        <td>{{trCm.transport.id}}</td>
        <td>{{trCm.transport.nomEntreprise}}</td>
        <td>{{trCm.transport.emailContact}}</td>
        <td *ngIf="trCm.transport.askDescription!=null && trCm.transport.askDescription.length>0">
          <p class="multi_lines_text">
            {{trCm.transport.askDescription}}
          </p>
        </td>
        <td *ngIf="trCm.transport.askDescription==null || trCm.transport.askDescription.length==0">
          {{trCm.loadDetail.description}}
        </td>
        <td>{{showDateLocal(trCm.transport.dateDepart) | date: 'dd-MMM-yyyy'}}</td>
        <!-- <td style="text-align: right;">{{trCm.transport.loadsFee}} $</td> -->
        <td style="text-align: right;">
          <span>
            <!-- <input type="number" [(ngModel)]="trCm.transport.loadsFee" 
            (focus)="getPriceActual(trCm.transport)" (focusout)="subPriceChange(trCm.transport)"
            style="width: 7ch; border: 0; text-align: right; margin-right: 0;"/> -->
            {{trCm.transport.loadsFee}} $
          </span>
        </td>
        <td>
          {{trCm.transport.origin}}
          <h5 *ngFor="let addrPick of renderMultiAddress(trCm.transport.pickAddress); let i=index" style="margin-left: 5pt;">
            Pick{{(i+2)+": "+ addrPick}}
          </h5>
        </td>
        <td>
          {{trCm.transport.destination}}
          <h5 *ngFor="let addrDrop of renderMultiAddress(trCm.transport.dropAddress); let i=index" style="margin-left: 5pt;">
            Drop{{(i+2)+": "+ addrDrop}}
          </h5>
        </td>
        <td>
          <input type="text" [(ngModel)]="trCm.transport.camionAttribue" 
          name="camionAttribue" list="defaultCamions" class="form-control" (change)="subCamionChange(trCm.transport)" 
          (focus)="focusDatalist(trCm.transport)" (mouseleave)="mouseleaveDatalist(trCm.transport)" 
          [disabled]="trCm.transport.fini || trCm.transport.driverNote.includes('!!Cancelled!!')">
          <datalist id="defaultCamions">
            <option >Waiting</option>
            <option value=" "><strong>Units GPS</strong></option>
            <option *ngFor="let c of camionsGps" [ngValue]="c">
              {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
            </option>
            <option value=" "><strong>Units No-GPS</strong></option>
            <option *ngFor="let c of camions" [ngValue]="c">
              {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
            </option>
                    
          </datalist>
        </td>
        <td><span class="btn btn-link" (click)="onDeleteCommand(trCm)">Delete</span></td>
      </tr>
    </table>
    <span>
      <br><strong>Page:&nbsp;</strong> 
      <span *ngIf="(shipper!=null && shipper.id!=null && shipper.id>0)" >
        <button style="margin-right: 1ch;" class="btn btn-link" (click)="selectPage(i)"
        *ngFor="let in of counter(pages); let i = index">
          <small *ngIf="pageSelected!=i">{{i}}</small>
          <strong *ngIf="pageSelected==i">{{i}}</strong>
        </button>
      </span>
      <span *ngIf="(shipper==null || shipper.id==null || shipper.id==0)">
        <button style="margin-right: 1ch;" class="btn btn-link" (click)="gotoPageCm(i)"
        *ngFor="let in of pagesPagedCm; let i = index">
          <small *ngIf="currentPageCm!=i">{{i}}</small>
          <strong *ngIf="currentPageCm==i">{{i}}</strong>
        </button>
      </span>
      
    </span>
  </div>
  <!-- <div *ngIf="modeListCommande">
    <table border="1">
      <tr>
        <th colspan="10">
          List Commandes
          <span class="btn btn-link" style="color: green; background-color: whitesmoke" (click)="waitingCommands()">Waiting</span>
          <span class="btn btn-link" style="color: orange; background-color: whitesmoke" (click)="scheduleCommands()">Schedule</span>
          <span class="btn btn-link" style="color: darkred; background-color: whitesmoke" (click)="finishedCommands()">Finished</span>
          <span class="btn btn-link" style="color: blue; background-color: whitesmoke" (click)="cancelledCommands()">Cancelled</span>
          <span class="btn btn-link" style="color: gray; background-color: whitesmoke" (click)="archiveCommands()">Archived</span>
        </th>
      </tr>
      <tr>
        <th>#Num</th>
        <th>Client</th>
        <th>TypeTransport</th>        
        <th>DateTransport</th>
        <th>&nbsp;&nbsp; Prix &nbsp;&nbsp;</th>
        <th>De</th>
        <th>A</th>
        <th>Camion</th>
        <th>Status</th>
        <th>print</th>
      </tr>
      <tr *ngIf="listTrsCommandeShow==null || listTrsCommandeShow.length==0">
        <th colspan="10">
          &nbsp;
        </th>
      </tr>
      <tr *ngFor="let trCo of listTrsCommandeShow">
        <td>{{trCo.transport.id}}</td>
        <td>{{trCo.transport.nomEntreprise}}</td>
        <td>{{trCo.loadDetail.description}}</td>        
        <td>{{showDateLocal(trCo.transport.dateReserve) | date: 'dd-MMM-yyyy'}} &nbsp; {{trCo.transport.timeResrvation}}</td>
        <td style="text-align: right;">{{trCo.transport.loadsFee}} $</td>
        <td>{{trCo.transport.origin}}</td>
        <td>{{trCo.transport.destination}}</td>
        <td>
          <input type="text" [(ngModel)]="trCo.transport.camionAttribue" 
          name="camionAttribue" list="defaultCamions" class="form-control" (change)="subCamionChange(trCo.transport)" 
          (click)="clickDatalist(trCo.transport)" (mouseleave)="mouseleaveDatalist(trCo.transport)" 
          [disabled]="trCo.transport.fini || trCo.transport.driverNote.includes('!!Cancelled!!')">
          <datalist id="defaultCamions">
            <option >Waiting</option>
            <option value=" "><strong>Unites avec GPS</strong></option>
            <option *ngFor="let c of camionsGps" [ngValue]="c">
              {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
            </option>
            <option value=" "><strong>Unites no-GPS</strong></option>
            <option *ngFor="let c of camions" [ngValue]="c">
              {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
            </option>
                    
          </datalist>
        </td>
        <td>
          <span *ngIf="trCo.transport.archive && trCo.transport.fini" 
          style="color: gray; background-color: whitesmoke"
          >Archived</span>
          <span *ngIf="!trCo.transport.archive && trCo.transport.fini" 
          style="color: darkred; background-color: whitesmoke"
          >Finished</span>
          <span *ngIf="trCo.transport.driverNote.includes('!!Cancelled!!')" 
          style="color: blue; background-color: whitesmoke"
          >Cancelled</span>
          <span *ngIf="trCo.transport.idCamion!=null && trCo.transport.idCamion>0 &&
            !trCo.transport.fini && !trCo.transport.driverNote.includes('!!Cancelled!!')" 
            style="color: orange; background-color: whitesmoke"
            >Schedule</span>
          <span *ngIf="(trCo.transport.idCamion==null || trCo.transport.idCamion==0) &&
            !trCo.transport.fini && !trCo.transport.driverNote.includes('!!Cancelled!!')" 
            style="color: green; background-color: whitesmoke"
            >Waiting List</span>
        </td>
        <td><span class="btn btn-link" (click)="printTransportSelected(trCo)">print</span></td>
        
        <td *ngIf="((trCo.transport.idCamion==null || trCo.transport.idCamion==0) &&
              !trCo.transport.fini && !trCo.transport.driverNote.includes('!!Cancelled!!'))">
          <span class="btn btn-link" (click)="onCancelTransportInList(trCo.transport)">
            Cancel
          </span>
        </td>

        <td *ngIf="(trCo.transport.idCamion!=null && trCo.transport.idCamion>0 &&
          !trCo.transport.fini && !trCo.transport.driverNote.includes('!!Cancelled!!'))
        ">
          <span class="btn btn-link" (click)="onFinishTransportInList(trCo.transport)">
            Finish
          </span>
          <span class="btn btn-link" (click)="onCancelTransportInList(trCo.transport)">
            Cancel
          </span>
        </td>

        <td *ngIf="trCo.transport.driverNote.includes('!!Cancelled!!')">
          <span class="btn btn-link" (click)="onResumeTransportInList(trCo.transport)">
            Resume
          </span>
          <span class="btn btn-link" (click)="onDeleteTransportInList(trCo.transport)">
            Delete
          </span>
        </td>

        <td *ngIf="trCo.transport.fini && !trCo.transport.archive">
          <span class="btn btn-link" (click)="onArchiveTransportInList(trCo.transport)">
            Archive
          </span>
        </td>

      </tr>
    </table>
  </div>
   -->
  <!-- list evalues -->
  <div *ngIf="modeListEvalue">
    <table border="1">
      <tr *ngIf="varsGlobal.language.includes('Francais')">
        <th colspan="9">Prix Evalu√©s</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('English')">
        <th colspan="9">Prices Evaluated</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('Francais')">
        <!-- <th>#Num</th> -->
        <th>&nbsp;Client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
        <th>Type</th>        
        <th style="width: 11ch;">Date</th>
        <th>&nbsp;&nbsp;Prix&nbsp;&nbsp;</th>
        <th style="width: 30%;">De</th>
        <th style="width: 30%;">A</th>
        <th>Delete</th>
      </tr>
      <tr *ngIf="varsGlobal.language.includes('English')">
        <!-- <th>#Num</th> -->
        <th>&nbsp;Client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</th>
        <th>Type</th>        
        <th style="width: 11ch;">Date</th>
        <th>&nbsp;&nbsp;Price&nbsp;&nbsp;</th>
        <th style="width: 30%;">From</th>
        <th style="width: 30%;">To</th>
        <th>Delete</th>
      </tr>
      <tr *ngIf="listTrsEvalueToShow==null || listTrsEvalueToShow.length==0"><th colspan="7">&nbsp;</th></tr>
      <tr *ngFor="let trEv of listTrsEvalueToShow">
        <!-- <td>{{trEv.transport.id}}</td> -->
        <td>{{trEv.transport.nomEntreprise}}</td>
        <td *ngIf="trEv.transport.askDescription!=null && trEv.transport.askDescription.length>0">
          <p class="multi_lines_text">
            {{trEv.transport.askDescription}}
          </p>
        </td>
        <td *ngIf="trEv.transport.askDescription==null || trEv.transport.askDescription.length==0">
          {{trEv.loadDetail.description}}
        </td>
        <td>{{showDateLocal(trEv.transport.dateDepart) | date: 'dd-MMM-yyyy'}}</td>
        <td style="text-align: right;">{{trEv.transport.loadsFee}} $</td>
        <td>
          {{trEv.transport.origin}}
          <h5 *ngFor="let addrPick of renderMultiAddress(trEv.transport.pickAddress); let i=index" style="margin-left: 5pt;">
            Pick{{(i+2)+": "+ addrPick}}
          </h5>
        </td>
        <td>
          {{trEv.transport.destination}}
          <h5 *ngFor="let addrDrop of renderMultiAddress(trEv.transport.dropAddress); let i=index" style="margin-left: 5pt;">
            Drop{{(i+2)+": "+ addrDrop}}
          </h5>
        </td>
        <!-- <td><span class="btn btn-link" (click)="onCommandEvalue(trEv)">Commander</span></td> -->
        <!-- <td><span class="btn btn-link" (click)="onCommandEvalue(trEv)">Commander</span></td>
        <td><span class="btn btn-link" (click)="printTransportSelected(trEv)">print</span></td> -->
        <td><span class="btn btn-link" (click)="onDeleteEvalue(trEv)">Delete</span></td>
      </tr>
    </table>
    <span>
      <br><strong>Page:&nbsp;</strong> 
      <span *ngIf="(shipper!=null && shipper.id!=null && shipper.id>0)" >
        <button style="margin-right: 1ch;" class="btn btn-link" (click)="selectPage(i)"
        *ngFor="let in of counter(pages); let i = index">
          <small *ngIf="pageSelected!=i">{{i}}</small>
          <strong *ngIf="pageSelected==i">{{i}}</strong>
        </button>
      </span>
      <span *ngIf="(shipper==null || shipper.id==null || shipper.id==0)">
        <button style="margin-right: 1ch;" class="btn btn-link" (click)="gotoPageEv(i)"
        *ngFor="let in of pagesPagedEv; let i = index">
          <small *ngIf="currentPageEv!=i">{{i}}</small>
          <strong *ngIf="currentPageEv==i">{{i}}</strong>
        </button>
      </span>
    </span>
  </div>
  
  <table *ngIf="transport.typeDoc!=0 && (transport.id==null || transport.id==0)" class="table-responsive">
    <tr><th colspan="2">Type Transport</th></tr>
    <!-- <tr>
      <th style="width: 100%;">
        <span *ngFor="let lf of loadFrequents; let i = index">
          <button (click)="loadFrequent=lf; loadFrequentChange(); 
          loadDetails=[]; addLoadSimpleDetail();" 
          [disabled]="loadFrequent.id!=null && loadFrequent.id==lf.id">
            {{lf.nom}}
          </button>
        </span>
      </th>
      
    </tr> -->
    <!-- begin test checkbox -->
    <tr *ngIf="loadFrequents.length>0">
      <th style="width: 100%;">
        <span *ngFor="let lf of loadFrequents">
          <button style="background-color: white; color: black;">
            <input type="checkbox" (change)="loadFrequentCheckBox(lf)">
              {{lf.nom}}
          </button>
        </span>
      </th>
    </tr>
    <!-- end test checkbox -->
    
  </table>
  <!-- <div *ngIf="loadFrequent!=null&&loadFrequent.id!=null&&loadFrequent.id>0"> -->
  <div *ngIf="loadDetails!=null&&loadDetails.length>0">
    <br>
    <strong *ngIf="transport.id!=null">#{{transport.id}} &nbsp;</strong> 
    <strong *ngIf="transport.typeDoc==1">
      <span *ngIf="varsGlobal.language.includes('Francais')">Evaluer &nbsp;</span>
      <span *ngIf="varsGlobal.language.includes('English')">Evaluate &nbsp;</span>
    </strong>
    <strong *ngIf="transport.typeDoc==2">Commande &nbsp;</strong>
    <br>
    <!-- <strong>{{loadFrequent.nom}}</strong> -->
    <strong *ngFor="let ld of loadDetails">&nbsp;&nbsp;. {{ld.description}} <br></strong>
  </div>
<!-- </div>
<div> -->
  <!-- <div *ngIf="loadFrequent!=null&&loadFrequent.id!=null&&loadFrequent.id>0">
    <strong>Adresse de Depart </strong>
    <span><input style="width: 50ch;" type="text" [(ngModel)]="transport.origin" (change)="originSimpleChange()"></span>
  </div>

  <div *ngIf="transport.origin.length>8">
    <strong>Adresse de Livraison </strong> 
    <span><input style="width: 50ch;" type="text" [(ngModel)]="transport.destination" (change)="destinationSimpleChange()"></span>
  </div> -->
  <!-- <div *ngIf="loadFrequent!=null&&loadFrequent.id!=null&&loadFrequent.id>0"> -->
  <div *ngIf="loadDetails!=null&&loadDetails.length>0">
    <div>
      <strong>
        <span *ngIf="varsGlobal.language.includes('Francais')">Adresse de Depart </span>
        <span *ngIf="varsGlobal.language.includes('English')">From </span>
      </strong>
      <span>
        <!-- <input style="width: 50ch;" type="text" [(ngModel)]="transport.origin" (change)="originSimpleChange()" list="adCookies"> -->
        <input style="width: 50ch;" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" 
        (onAddressChange)="handleAddressOriginChange($event)" type="text" [(ngModel)]="transport.origin"> 
        <!-- (change)="originSimpleChange()" list="adCookies">
        <datalist id="adCookies">
          <option *ngFor="let address of varsGlobal.addressCookieToList" [ngValue]="address">{{address}}</option>
        </datalist> -->
      </span>
      <div *ngIf="listAddressPick.length>0" style="margin-left: 25pt;">
        <strong *ngFor="let adPick of listAddressPick; let i = index">
          <strong *ngIf="varsGlobal.language.includes('English')">
            {{"Pick "+(i+2)+": "}} {{adPick}} <button class="btn btn-link" 
            (click)="listAddressPick.splice(i,1); buildListAllAddressAndCalculateDistance()">x</button><br>
          </strong>
          <strong *ngIf="varsGlobal.language.includes('Francais')">
            {{"Ramasse "+(i+2)+": "}} {{adPick}} <button class="btn btn-link" 
            (click)="listAddressPick.splice(i,1); buildListAllAddressAndCalculateDistance()">x</button><br>
          </strong>
        </strong>
      </div>
      <div *ngIf="transport.origin.length>8" style="margin-left: 15pt;">
        <button class="btn btn-link" *ngIf="varsGlobal.language.includes('English')" (click)="addAddressPick()">
          <span *ngIf="showBarPick">Cancel</span>
          <span *ngIf="!showBarPick">Add Pick Address</span>
        </button>
        <button class="btn btn-link" *ngIf="varsGlobal.language.includes('Francais')" (click)="addAddressPick()">
          <span *ngIf="showBarPick">Annuler</span>
          <span *ngIf="!showBarPick">Ajout Adresse Ramasse</span>
        </button>
        <span *ngIf="showBarPick">
          <input style="width: 50ch;" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" 
          (onAddressChange)="handleAddressPick($event)" type="text" [(ngModel)]="addressPick">
        </span>
      </div>
      <!-- <div *ngIf="listAddressTransit.length>0" style="margin-left: 15pt;">
        <strong *ngFor="let adTransit of listAddressTransit; let i = index">
          {{"Transit "+(i+1)+": "}} {{adTransit}} <button class="btn btn-link" (click)="listAddressTransit.splice(i,1)">x</button><br>
        </strong>
      </div> -->
    </div>
    <div *ngIf="transport.origin.length>8">
      <strong>
        <span *ngIf="varsGlobal.language.includes('Francais')">Adresse de Livraison </span>
        <span *ngIf="varsGlobal.language.includes('English')">To </span>
      </strong> 
      <span>
        <!-- <input style="width: 50ch;" type="text" [(ngModel)]="transport.destination" (change)="destinationSimpleChange()" list="adCookies"> -->
        <input style="width: 50ch;" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" 
        (onAddressChange)="handleAddressDestinationChange($event)" type="text" [(ngModel)]="transport.destination"> 
        <!-- (change)="destinationSimpleChange()" list="adCookies">
        <datalist id="adCookies">
          <option *ngFor="let address of varsGlobal.addressCookieToList" [ngValue]="address">{{address}}</option>
        </datalist> -->
      </span>
      <div *ngIf="listAddressDrop.length>0" style="margin-left: 25pt;">
        <strong *ngFor="let adDrop of listAddressDrop; let i = index">
          {{"Drop "+(i+2)+": "}} {{adDrop}} <button class="btn btn-link" 
          (click)="listAddressDrop.splice(i,1); buildListAllAddressAndCalculateDistance()">x</button><br>
        </strong>
      </div>
      <div *ngIf="transport.destination.length>8" style="margin-left: 15pt;">
        <button class="btn btn-link" *ngIf="varsGlobal.language.includes('English')" (click)="addAddressDrop()">
          <span *ngIf="showBarDrop">Cancel</span>
          <span *ngIf="!showBarDrop">Add Drop Address</span>
        </button>
        <button class="btn btn-link" *ngIf="varsGlobal.language.includes('Francais')" (click)="addAddressDrop()">
          <span *ngIf="showBarDrop">Annuler</span>
          <span *ngIf="!showBarDrop">Ajout Adresse Drop</span>          
        </button>
        <span *ngIf="showBarDrop">
          <input style="width: 50ch;" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" 
          (onAddressChange)="handleAddressDrop($event)" type="text" [(ngModel)]="addressDrop">
        </span>
      </div>
    </div>
  </div>
  <br>
  <div *ngIf="transport.typeDoc==2 && transport.origin.length>8 && transport.destination.length>8 && transport.loadsFee!=null && transport.distance!=null">
    <!-- <strong>Date du Transport </strong>
    <span><input type="date" placeholder="Pick date" [ngModel]="showDateLocal(transport.dateReserve) | date: 'yyyy-MM-dd'" 
        name="dateReserve" min="{{today | date: 'yyyy-MM-dd'}}" class="form-control" (change)="pickDateChange($event)"
        style="width: 11pc;"></span> -->
    <table>
      <tr>
        <th>Date du Transport</th>
        <th>Heure</th>
        <th>Camion</th>
      </tr>
      <tr>
        <td>
          <input type="date" placeholder="Pick date" [ngModel]="showDateLocal(transport.dateReserve) | date: 'yyyy-MM-dd'" 
          name="dateReserve" min="{{today | date: 'yyyy-MM-dd'}}" class="form-control" (change)="pickDateChange($event)"
          style="width: 11pc;">
        </td>
        <td>
          <input type="time" [(ngModel)]="transport.timeResrvation"
            name="timeResrvation" class="form-control" style="width: 8pc;">
        </td>
        <td>
          <input type="text" [(ngModel)]="transport.camionAttribue" 
              name="camionAttribue" list="defaultCamions" (change)="camionChange()" class="form-control">
          <datalist id="defaultCamions">
            <option value=" "><strong>Unites avec GPS</strong></option>
              <option *ngFor="let c of camionsGps" [ngValue]="c">
                {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
              </option>
            <option value=" "><strong>Unites no-GPS</strong></option>
              <option *ngFor="let c of camions" [ngValue]="c">
                {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.modele+'  .Id.'+c.id)}}
              </option>
          </datalist>
        </td>
      </tr>
    </table>
  </div>
  
  <!-- <br> -->

  <div *ngIf="transport.origin.length>8 && transport.destination.length>8">
    <strong>
      <span *ngIf="varsGlobal.language.includes('Francais')">Prix </span>
      <span *ngIf="varsGlobal.language.includes('English')">Price </span>
    </strong>
    <strong *ngIf="transport.loadsFee!=null && transport.distance!=null">
      <!-- {{transport.loadsFee}} -->
      <input style="width: 10ch;" type="number" [(ngModel)]="transport.loadsFee">&nbsp;&nbsp;&nbsp;
      <!-- <button class="btn btn-link" *ngIf="varsGlobal.language.includes('English')" (click)="addAddressTransit()">Add Transit Address</button>
      <button class="btn btn-link" *ngIf="varsGlobal.language.includes('Francais')" (click)="addAddressTransit()">Ajout Adresse de Transit</button>
      <span *ngIf="showBarTransit">
        <input style="width: 50ch;" ngx-google-places-autocomplete [options]='options' #placesRef="ngx-places" 
        (onAddressChange)="handleAddressTransit($event)" type="text" [(ngModel)]="addressTransit">
      </span> -->
    </strong>
    <!-- <br> -->
    <span *ngIf="transport.loadsFee==null">en estimation</span>
    <!-- <label>Distance(mile)</label>
    <input type="number" [(ngModel)]="transport.distance" 
    style="width: 10pc;" class="form-control" disabled/>
    <span>{{(showKm(this.transport.distance)+ " kms")}}</span> -->
  </div>
  
  
  <!-- <div *ngIf="transport.origin.length>8 && transport.destination.length>8 && transport.loadsFee!=null && transport.distance!=null">
    
    <button class="btn btn-link" *ngIf="transport.typeDoc==1" (click)="saveSimple()">Save</button> 
    
    <button class="btn btn-link" *ngIf="transport.typeDoc==2" (click)="saveSimple()">Send</button>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <button class="btn btn-link" *ngIf="transport.typeDoc==1 && transport.id>0" (click)="printBonDeTransport('printevaluation')">Print</button>
    <button class="btn btn-link" *ngIf="transport.typeDoc==2 && transport.id>0" (click)="printBonDeTransport('printcommand')">Print</button>
  </div> -->
</div>

<div id="printevaluation" hidden
  *ngIf="transport.origin.length>8 && transport.destination.length>8 && transport.loadsFee!=null && transport.distance!=null">
  <h3><span *ngIf="transport.id!=null">#{{transport.id}} &nbsp;</span> 
    Evaluation {{loadFrequent.nom}}</h3>
  <h4>De: {{transport.origin}}</h4>
  <h4>A: {{transport.destination}}</h4>
  <h4>Date Evaluation: {{showDateLocal(transport.dateDepart) | date: 'dd-MMM-yyyy'}}</h4>
  <h4>Prix: {{transport.loadsFee}}</h4>
</div>
<div id="printcommand" hidden
  *ngIf="transport.origin.length>8 && transport.destination.length>8 && transport.loadsFee!=null && transport.distance!=null">
  <h3><span *ngIf="transport.id!=null">#{{transport.id}} &nbsp;</span> 
    Commande {{loadFrequent.nom}}</h3>
    <h4>De: {{transport.origin}}</h4>
    <h4>A: {{transport.destination}}</h4>
    <h4>Date du Transport: {{showDateLocal(transport.dateReserve) | date: 'dd-MMM-yyyy'}} &nbsp; {{transport.timeResrvation}}</h4>
    <h4>Prix: {{transport.loadsFee}}</h4>
</div>

<div id="printevalueselected" hidden
  *ngIf="transportSelected!=null && loadDetailSelected!=null">
  <h3><span *ngIf="transportSelected.id!=null">#{{transportSelected.id}} &nbsp;</span> 
    Evaluation {{loadDetailSelected.description}}</h3>
  <h4>De: {{transportSelected.origin}}</h4>
  <h4>A: {{transportSelected.destination}}</h4>
  <h4>Date Evaluation: {{showDateLocal(transportSelected.dateDepart) | date: 'dd-MMM-yyyy'}}</h4>
  <h4>Prix: {{transportSelected.loadsFee}}</h4>
</div>
<div id="printcommandselected" hidden
  *ngIf="transportSelected!=null && loadDetailSelected!=null">
  <h3><span *ngIf="transportSelected.id!=null">#{{transportSelected.id}} &nbsp;</span> 
    Commande {{loadDetailSelected.nom}}</h3>
    <h4>De: {{transportSelected.origin}}</h4>
    <h4>A: {{transportSelected.destination}}</h4>
    <h4>Date du Transport: {{showDateLocal(transportSelected.dateReserve) | date: 'dd-MMM-yyyy'}} &nbsp; {{transportSelected.timeResrvation}}</h4>
    <h4>Prix: {{transportSelected.loadsFee}}</h4>
</div>
<br><br>
<!--
<div *ngIf="varsGlobal.language.includes('Francais')">
  <h4 style="text-align: left; font: bold">
    Transport<span>&nbsp;&nbsp;&nbsp;</span>
    <span *ngIf="modeHistoire==-1&&transport.id>0"><button (click)="onReset()" class="btn btn-link">AnnulerLoad</button></span>
    
    <span *ngIf="modeHistoire==1"><button (click)="onHistoire()" class="btn btn-link">NouvelLoad</button></span>
    <span *ngIf="modeHistoire==-1"><button (click)="onHistoire()" class="btn btn-link">Gestion-Des-Loads</button></span>
    <span *ngIf="modeHistoire==1"><button (click)="onRefresh()" class="btn btn-link">Refresh</button></span>
  </h4>
  <hr style="border: 1px dotted black"/>
  <div *ngIf="modeHistoire==1">
    
    <div class="row">
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: green; text-align: center">
        <button (click)="appelsAttentes()" style="color: green; text-align: center">Liste d'Attente</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: orange; text-align: center">
        <button (click)="appelsEncours()" style="color: orange; text-align: center">Liste en Cours</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: red; text-align: center">
        <button (click)="appelsFinis()" style="color: red; text-align: center">Termines Avec Succes</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: blue; text-align: center">
        <button (click)="appelsAnnules()" style="color: blue; text-align: center">Appels Annulees</button> 
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-12 col-sm-12 col-lg-12">
        <table *ngIf="modeGestionAppel==1" class="table">
          <tr style="background-color: whitesmoke">
            <th>Numero</th><th (click)='onSortDate(listTrs)'>DateReserve</th><th>Client</th>
            <th>TelClient</th><th>Email</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>DateAppel</th>
          </tr>
          <tr *ngFor="let t of listTrs" style="color: green; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.emailContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>          
            <td (click)="gotoDetailTransport(t)">{{t.dateDepart | date: 'dd-MMM-yyyy'}}</td>
          </tr>
          <tr *ngIf="listTrs.length==0" style="color: green">
            <td>Liste d'Attente est vide actuellement.</td>
          </tr>
        </table>
        <table *ngIf="modeGestionAppel==2" class="table">
          <tr style="background-color: whitesmoke">
            <th>Numero</th><th (click)='onSortDate(listTrsSent)'>DateReserve</th><th>Client</th>
            <th>TelClient</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>Chauffeur</th><th>CamionUnite</th>
          </tr>
          <tr *ngFor="let t of listTrsSent" style="color: orange; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomIntervenant}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.camionAttribue}}</td>
          </tr>
          <tr *ngIf="listTrsSent.length==0" style="color:orange">
            <td>Liste en Cours est vide actuellement.</td>
          </tr>  
        </table>
        <table *ngIf="modeGestionAppel==3" class="table">
          <tr style="background-color: whitesmoke">
            <th>Numero</th><th (click)='onSortDate(listTrsFini)'>DateReserve</th><th>Client</th>
            <th>TelClient</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>Chauffeur</th><th>CamionUnite</th>
          </tr>
          <tr *ngFor="let t of listTrsFini" style="color: red; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomIntervenant}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.camionAttribue}}</td>
          </tr>
          <tr *ngIf="listTrsFini.length==0" style="color: red">
            <td>Liste termines est vide actuellement.</td>
          </tr>
        </table>
        <table *ngIf="modeGestionAppel==4" class="table">
          <tr style="background-color: whitesmoke">
            <th>Numero</th><th (click)='onSortDate(listTrsAnnule)'>DateReserve</th><th>Client</th>
            <th>TelClient</th><th>Email</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>DateAppel</th>
          </tr>
          <tr *ngFor="let t of listTrsAnnule" style="color: blue; background-color: whitesmoke">
            <td style="width: 6%;" (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.emailContact}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.dateDepart | date: 'dd-MMM-yyyy'}}</td>
            <td style="width: 6%;"><button class="btn btn-link" (click)="onDelete(t)">Delete</button></td>
          </tr>
          <tr *ngIf="listTrsAnnule.length==0" style="color: blue">
            <td>Il n'y a pas d'appel annule.</td>
          </tr>
        </table>
      </div>
      
    </div>
  </div>
  
  <div *ngIf="modeHistoire==-1">
      
      <div class="panel panel-primary">
        <table border="1" *ngIf="pagePresent>=2">
          <tr>
            <th>#Bon : {{transport.id}} </th>
            
            <th><button class="btn btn-link" (click)="onPage2()">
              <strong *ngIf="pagePresent==2">Client</strong>
              <span *ngIf="pagePresent!=2">Client</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage3()">
              <strong *ngIf="pagePresent==3">ContactOrigin</strong>
              <span *ngIf="pagePresent!=3">ContactOrigin</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage4()">
              <strong *ngIf="pagePresent==4">ContactDestination</strong>
              <span *ngIf="pagePresent!=4">ContactDestination</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage5()">
              <strong *ngIf="pagePresent==5">Loads</strong>
              <span *ngIf="pagePresent!=5">Loads</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage6()">
              <strong *ngIf="pagePresent==6">TypeEquipement</strong>
              <span *ngIf="pagePresent!=6">TypeEquipement</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage7()">
              <strong *ngIf="pagePresent==7">PlusInfos</strong>
              <span *ngIf="pagePresent!=7">PlusInfos</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage8()">
              <strong *ngIf="pagePresent==8">JoindreImage</strong>
              <span *ngIf="pagePresent!=8">JoindreImage</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage9()">
              <strong *ngIf="pagePresent==9">CamionTrailersChauffeur</strong>
              <span *ngIf="pagePresent!=9">CamionTrailersChauffeur</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage10()">
              <strong *ngIf="pagePresent==10">Resumer</strong>
              <span *ngIf="pagePresent!=10">Resumer</span>
            </button></th>
          </tr>
        </table>
        <br *ngIf="pagePresent>=2">
        <div class="col-sm-12 col-lg-12 col-md-12">
          
          <div class="row" *ngIf="pagePresent==1">
            <div class="col-md-3 col-sm-3 col-lg-3">
              <h5><label>
                Repartiteur 
                <input type="text" [(ngModel)]="transport.nomDispatch" name="nomDispatch" class="form-control">
              </label></h5> 
            </div>
            <div class="col-md-3 col-sm-3 col-lg-3">
              <label for=""><h5>
                ModeleRemplis
                <input type="text"  [(ngModel)]="templateName"
                  name="templateName" class="form-control" (change)="templateChange()" list="defaultTemplates">
                <datalist id="defaultTemplates">
                  <option *ngFor="let t of templates" [ngValue]="t">{{t.modelName +' &nbsp;&nbsp; .Id.'+t.id}}</option>
                </datalist>
                <button class="btn btn-link" (click)="modifyModels=true">
                  Liste modeleRemplis
                </button>
              </h5></label>
              
            </div>
            <div class="col-md-3 col-sm-3 col-lg-3">
              <h5>
                {{transport.dateDepart | date: 'dd-MMM-yyyy'}} - {{transport.timeCall}}
              </h5>
            </div>
            <div *ngIf="transport.id!=null" class="col-md-3 col-sm-3 col-lg-3">
              <h5>BonNumero : {{transport.id}} </h5>
            </div>
          </div>
          <div class="row" *ngIf="modifyModels==true">
              <div class="panel-body">
                  <table>
                      <tr><th><h4>Liste de Transport-Modeles</h4></th></tr> 
                      <tr>
                          <th>Model</th><th>Compagnie</th>
                      </tr>                    
                      <tr *ngFor="let t of templates">
                          <td><input class="form-control" type="text" [(ngModel)]="t.modelName" /></td>
                          <td><input class="form-control" type="text" [(ngModel)]="t.nomEntreprise" disabled/></td>                
                          <td><button class="btn btn-link" (click)="modifyTemplate(t)">Modifier</button></td>
                          <td><button class="btn btn-link" (click)="deleteTemplate(t.id)">Supprimer</button></td>
                      </tr>
                      <tr *ngIf="templates.length==0">
                        <td>Il n'y a pas de model, actuellement.</td>
                      </tr>
                      <tr>
                        <td colspan="2" style="text-align: center;"><button class="btn btn-link" (click)="modifyModels=false">Fermer la liste</button></td>
                      </tr>
                  </table>
              </div>
          </div>
          
        </div>
        <div class="panel-body">
          <h5 style="text-align: left; font: bold; text-decoration-line: underline" *ngIf="pagePresent==2">Client Infos <br></h5>
          <div *ngIf="pagePresent==2" class="row">
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Client</label>
                <input type="text" [(ngModel)]="transport.nomEntreprise"
                     name="nomEntreprise" (change)="nomEntrepriseInputChange()" class="form-control"
                     list="defaultShippers"> 
                <datalist id="defaultShippers">
                  <option *ngFor="let e of listShipper" [ngValue]="e">{{e.nom}}</option>
                </datalist>
                
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">#PO</label>
                <input type="text" [(ngModel)]="transport.numPO" name="numPO"
                     class="form-control">
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">DateReserve</label>
                <input type="date" [ngModel]="transport.dateReserve | date: 'yyyy-MM-dd'"
                     name="dateReserve" min="{{today | date: 'yyyy-MM-dd'}}"
                     class="form-control" (change)="dateChange($event)"
                     required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}"/>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">HeureReserve</label>
                <input type="time" [(ngModel)]="transport.timeResrvation"
                     name="timeResrvation" class="form-control">
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==2" class="row">
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Commande par</label>
                <input type="text" (change)="contactChange()" [(ngModel)]="transport.nomContact"
                     name="nomContact" class="form-control" list="defaultContacts">
                <datalist id="defaultContacts">
                  <option *ngFor="let e of contacts" [ngValue]="e">{{e.prenom+'  .Id.'+e.id}}</option>
                </datalist>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Telephone</label>
                <input type="tel" [(ngModel)]="transport.telContact" name="telContact"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                     (focusout)="transport.telContact=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Extension</label>
                <input type="text" [(ngModel)]="transport.extTelContact" name="extTelContact"
                     class="form-control">
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Courriel</label>
                <input type="email" [(ngModel)]="transport.emailContact" name="emailContact" class="form-control" required>
              </div>
            </div>
          </div>
          
          <div *ngIf="pagePresent==3"><label style="text-decoration-line: underline">Contact & Address Origin</label></div>
          <div *ngIf="pagePresent==3" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="text"  [(ngModel)]="transport.nomClient"
                     name="nomClient" class="form-control" placeholder="Nom">
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.telClient" name="telClient"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Telephone"
                     (focusout)="transport.telClient=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input [(ngModel)]="transport.telClient2em" name="telClient2em"
                     class="form-control" placeholder="Tel2em/Courriel">
              </div>
            </div>
          
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.originAdresse" name="origin"
                   class="form-control" (change)="originChange()" placeholder="Numero & rue"/>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.originVille" name="originVille"
              class="form-control" (change)="originChange()" list="defaultVilles" placeholder="Ville">
              <datalist id="defaultVilles">
                  <option *ngFor="let v of villeListO" [ngValue]="v">{{v}}</option>
              </datalist>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <select type="text" class="form-control" [(ngModel)]="transport.originProvince"
              (change)="originChange()">
                <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
              </select>
            </div>
          </div>
  
          <div *ngIf="pagePresent==4"><label style="text-decoration-line: underline">Contact & Address Destination</label></div>
          <div *ngIf="pagePresent==4" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="text"  [(ngModel)]="transport.contactDest"
                     name="nomClient" class="form-control" placeholder="Nom">
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.tel1Dest" name="tel1Dest"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Telephone"
                     (focusout)="transport.tel1Dest=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.tel2Dest" name="tel2Dest"
                     class="form-control" placeholder="Tel2em/Courriel">
              </div>
            </div>
          
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.destAdresse" name="destAdresse"
                   class="form-control" (change)="destinationChange()" placeholder="Numero & rue"/>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.destVille" name="destVille"
              class="form-control" (change)="destinationChange()" list="defaultVillesD" placeholder="Ville">
              <datalist id="defaultVillesD">
                  <option *ngFor="let v of villeListD" [ngValue]="v">{{v}}</option>
              </datalist>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <select type="text" class="form-control" [(ngModel)]="transport.destProvince"
              (change)="destinationChange()">
                <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
              </select>
            </div>
          </div>
          
          <div *ngIf="pagePresent==5">
            
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <table class="table table-striped table-sm table-responsive">
              <tr *ngIf="mode==1">
                <th>Quantites</th><th>Nom & Description</th><th>Longueur(pied)</th><th>Largeur(pied)</th><th>Hauteur(pied)</th><th>Poids(lb)</th> <th>Frais</th>
              </tr>
              <tr *ngIf="mode==2">
                <th>Quantites</th><th>Nom & Description</th><th>Longueur(cm)</th><th>Largeur(cm)</th><th>Hauteur(cm)</th><th>Poids(kg)</th> <th>Frais</th>   
              </tr>
              <tr *ngFor="let load of loadDetails">
                <td>
                  <input type="number" class="form-control" [(ngModel)]="load.quantity" (change)="dimensionResume()"/>
                </td>
                <td>
                  <textarea class="form-control" type="text" rows="1" cols="30" [(ngModel)]="load.description"></textarea>
                </td> 
                <td><input type="number" class="form-control" [(ngModel)]="load.longueur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.largeur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.hauteur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.poids" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.price" (change)="loadPriceChange()"/></td>
                <td><button class="btn btn-link" (click)="deleteLoadDetail(load); dimensionResume()">Delete</button></td>
              </tr>  
              <tr>
                
              </tr>
              <tr>
                <td>
                  <input type="number" class="form-control" [(ngModel)]="this.loadDetail.quantity" 
                  (change)="priceLoad(loadDetail, loadFrequent)" placeholder="quantite"/>
                </td>
                <td>
                  <textarea class="form-control" type="text" rows="1" cols="30" [(ngModel)]="this.loadDetail.description" 
                    placeholder="description"></textarea>
                </td> 
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.longueur" placeholder="longueur"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.largeur" placeholder="largeur"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.hauteur" placeholder="hauteur"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.poids" placeholder="poids"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.price"/></td>
                <td><button class="btn btn-link" (click)="addLoadDetail()">Ajouter</button></td>
              </tr>         
              <tr *ngIf="loadFrequents.length>0">
                <td>Select Loads Frequent</td>
                <td>
                  <select class="form-control" [(ngModel)]="loadFrequent"
                  (ngModelChange)="loadFrequentChange()">
                    <option [ngValue]="null"> </option>
                    <option *ngFor="let lf of loadFrequents" [ngValue]="lf">{{lf.nom}}</option>
                  </select>
                </td>
              </tr>  
            </table>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Longueur(pied)</label>
                <label *ngIf="mode==2">Total Longueur(cm)</label>
                <input type="number" [(ngModel)]="transport.longueur" name="longueur" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Poids(lb)</label>
                <label *ngIf="mode==2">Total Poids(kg)</label>
                <input type="number" [(ngModel)]="transport.poids" name="poids" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Distance(mile)</label>
                <label *ngIf="mode==2">Distance(km)</label>
                <input type="number" [(ngModel)]="transport.distance" name="distance" disabled
                (change)="priceLoad(loadDetail, loadFrequent);calculTotalpoints()" class="form-control"/>
                <span>{{(showKm(this.transport.distance)+ " kms")}}</span>
              </div>
              
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label >Total Frais($)</label>
                <input type="number" [(ngModel)]="transport.loadsFee" (change)="prixCalcul()" class="form-control"/>
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <div  class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for=""><strong>HeuresAttente</strong></label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingTime"
              (change)="transport.waitingFee=transport.waitingTime*transport.waitingPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">PrixAttente($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingPrice"
              (change)="transport.waitingFee=transport.waitingTime*transport.waitingPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">FraisAttente($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingFee"
              (change)="prixCalcul()">
            </div>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <div  class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for=""><strong>HeuresPTO</strong></label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoTime"
              (change)="transport.ptoFee=transport.ptoTime*transport.ptoPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">PrixPTO($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoPrice"
              (change)="transport.ptoFee=transport.ptoTime*transport.ptoPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">FraisPTO($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoFee"
              (change)="prixCalcul()">
            </div>
          </div>
          
          <div *ngIf="pagePresent==6">
            
                <label style="text-decoration-line: underline;" class="control-label">Type d'Equipement : </label>
                <input type="text" [(ngModel)]="transport.typeCamion" name="typeCamion" class="form-control"/>

          </div>
          <div *ngIf="pagePresent==6" class="container" style="margin-left: 20px; margin-bottom: 10px">
              
                <form [formGroup]="formGroup" >
                  <table border="1px">
                    <ng-container formArrayName="camionTypes" *ngFor="let camionType of formGroup.controls.camionTypes['controls']; let i = index" >      
                      <tr *ngIf="(i % 9 === 0 && i<18)">
                        <td style="font-size: 7; font-style: italic" *ngFor="let x of [i,i+1,i+2,i+3,i+4,i+5,i+6,i+7,i+8]">  
                            {{camionTypes[x].name}}
                            <input type="checkbox" [formControlName]='x' (change)="onChangeTypeCamion()"/>
                        </td>
                      </tr>
                    </ng-container>
                  </table>
                </form>
              
          </div>
  
          <div *ngIf="pagePresent==6">
            <label style="text-decoration-line: underline;" class="control-label">Options : </label>
            <input type="text" [(ngModel)]="transport.optionDemande" name="optionDemande" class="form-control"/>
          </div>
          <div *ngIf="pagePresent==6" class="container" style="margin-left: 20px; margin-bottom: 10px">
            <form [formGroup]="formGroup" >
              <table border="1px">
                <ng-container formArrayName="optionTypes" *ngFor="let optionType of formGroup.controls.optionTypes['controls']; let i = index" >      
                  <tr *ngIf="i % 8 === 0 && i<16">
                    <td style="font-size: 7; font-style: italic" *ngFor="let x of [i,i+1,i+2,i+3,i+4,i+5,i+6,i+7]">  
                        {{optionTypes[x].name}}
                        <input type="checkbox" [formControlName]='x' (change)="onChangeOption()"/>
                    </td>
                  </tr>
                </ng-container>
              </table>
            </form>
          </div>
  
          
          <div class="row" *ngIf="pagePresent==7">
            <div class="col-sm-2 col-md-2 col-lg-2"><label style="text-decoration-line: underline;" class="control-label">Plus infos</label></div>
            <div class="col-sm-10 col-md-10 col-lg-10">
              <textarea name="comments" class="form-control" cols="80" rows="2"
                    [(ngModel)]="transport.comments"
                    style="margin-top: 0px"></textarea>
            </div>
          </div>
          
          <div *ngIf="pagePresent==8" class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
              <label style="text-decoration-line: underline" for="">Joindre Image</label>
              <input class="form-control" type="file" title="Joindre une image " (change)="onFileUpLoad($event)" accept="image/x-png,image/gif,image/jpeg" placeholder="">
              <button *ngIf="transport.imgUrl.length>0" (click)="transport.imgUrl=''" class="btn btn-link">Supprimer photo</button>
            </div>
            <div *ngIf="transport.imgUrl.length>0" class="col-sm-12 col-md-12 col-lg-12" style="border: 2px dotted gray">
              
              <a href="{{transport.imgUrl}}" target="_blank">
                <img [src]="transport.imgUrl" alt="piece joint" class="img-responsive" width="245" height="300">
              </a>
            </div>
          </div>
          
          <h5 style="text-decoration-line: underline" *ngIf="pagePresent==9">Camion & Trailer & Chauffeur</h5>
          <div *ngIf="pagePresent==9" class="row">
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Camion</label>
                <input type="text" [(ngModel)]="transport.camionAttribue" 
                  name="camionAttribue" list="defaultCamions" class="form-control" (change)="camionChange()" required>
                
                <datalist id="defaultCamions">
                  
                    <option value=" "><strong>Unites avec GPS</strong></option>
                    
                    <option *ngFor="let c of camionsGps" [ngValue]="c">
                      {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.type+ ' ' +c.modele+'  .Id.'+c.id)}}
                      
                    </option>
                    
                      <option value=" "><strong>Unites no-GPS</strong></option>
                      <option *ngFor="let c of camions" [ngValue]="c">
                        {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.type+ ' ' +c.modele+'  .Id.'+c.id)}}
                        
                      </option>
                    
                </datalist>
              </div>
              
            </div>          
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Trailer1</label>
                <input type="text" [(ngModel)]="transport.trailer1" 
                  name="trailer1" list="defaultTrailers" class="form-control" (change)="trailer1Change()">
                <datalist id="defaultTrailers">
                    <option *ngFor="let r of remorques" [ngValue]="r">{{r.unite + ' - ' + r.marque +'  ' +r.modele + '  .Id.'+r.id}}</option>
                </datalist>
              </div>
              
            </div>          
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Trailer2</label>
                <input type="text" [(ngModel)]="transport.trailer2" 
                  name="trailer2" list="defaultTrailers" class="form-control" (change)="trailer2Change()" [disabled]="transport.trailer1.length<1">
                <datalist id="defaultTrailers">
                    <option *ngFor="let r of remorques" [ngValue]="r">{{r.unite + ' - ' + r.marque +'  ' +r.modele +'  .Id.'+r.id}}</option>
                </datalist>
              </div>
              
            </div>          
            
          </div>
          
          <div *ngIf="pagePresent==9" class="row">          
          
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for=""><h5 style="text-decoration-line: underline"><strong>Chauffeur</strong></h5></label>
                <input type="text"  [(ngModel)]="transport.nomIntervenant"
                  name="nomIntervenant" class="form-control" (change)="chauffeurChange()" list="defaultChauffeurs">
                <datalist id="defaultChauffeurs">
                  <option *ngFor="let e of chauffeurs" [ngValue]="e">{{e.nom+'  .Id.'+e.id}}</option>
                </datalist>
              </div>
            </div>
            <div class="col-sm-6 col-md-2 col-lg-2">
              <div class="form-group">
                <label for="">Telephone</label>
                <input type="tel" [(ngModel)]="transport.telIntervenant" name="telIntervenant"
                      class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                      (focusout)="transport.telIntervenant=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Courriel</label>
                <input type="email" [(ngModel)]="transport.emailIntervenant" name="emailIntervenant" class="form-control" list="defaultEmails" 
                required>
                  <datalist id="defaultEmails">
                  </datalist>
              </div>
            </div>
            <div  class="col-sm-6 col-md-1 col-lg-1; form-group">
              <label for=""><strong>Volume</strong></label>
              
              <span class="form-control" style="border: none;">Default</span>
              <span class="form-control" style="border: none;">Utilise</span>
              <span class="form-control" style="border: none;">Disponible</span>
            </div>
            <div class="col-sm-6 col-md-1 col-lg-1; form-group">
              <label for="">Longueur(pi)</label>
              <input class="form-control"  type="number" size="5" [value]="volumeLongueur()">
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.longueur" style="background-color: darkorange;">
              <input class="form-control"  type="number" size="5" [value]="volumeLongueur()-transport.longueur" style="background-color:greenyellow;">
            </div>
            <div class="col-sm-6 col-md-2 col-lg-2; form-group">
              <label for="">Poids(lbs)</label>
              <input class="form-control" type="number" size="5" [value]="volumePoids()">
              <input class="form-control" type="number" size="5" [(ngModel)]="transport.poids" style="background-color: darkorange;">
              <input class="form-control"  type="number" size="5" [value]="volumePoids()-transport.poids" style="background-color:greenyellow;">
            </div>
          </div>
          
          <div *ngIf="pagePresent==9" class="row">
            
            <div class="col-sm-6 col-md-6 col-lg-6; form-group">
              <label for="" style="text-decoration-line: underline;" class="control-label"><strong>Note au Chauffeur</strong></label>
              <textarea name="comments" class="form-control" cols="80" rows="2"
                    [(ngModel)]="transport.driverNote" style="margin-bottom: 0px"
                    style="margin-top: 0px"></textarea>
            </div>
            
          </div>
          
          <h5 style="text-decoration-line: underline" *ngIf="pagePresent==10">Resumer</h5>
          <div *ngIf="pagePresent==10" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Longueur(pied)</label>
                <label *ngIf="mode==2">Total Longueur(cm)</label>
                <input type="number" [(ngModel)]="transport.longueur" name="longueur" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Poids(lb)</label>
                <label *ngIf="mode==2">Total Poids(kg)</label>
                <input type="number" [(ngModel)]="transport.poids" name="poids" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label >Valeur($)</label>
                <input type="number" [(ngModel)]="transport.valeur" name="valeur" (change)="calculTotalpoints()" class="form-control"/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Distance(mile)</label>
                <label *ngIf="mode==2">Distance(km)</label>
                <input type="number" [(ngModel)]="transport.distance" name="distance" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==10" class="row" style="margin-top: 10px">
            <div class="col-md-2">
              <div class="form-group">
                <table>
                  <tr>&nbsp;</tr>
                  <tr>
                    <td>PorterAuCompte</td>
                    <td>
                      <input style="width: 1pc;" type="checkbox" [(ngModel)]="transport.debit" (change)="ifDebit()" class="form-control">
                    </td>
                  </tr>
                </table>
                
              </div>
            </div>
            <div class="col-md-2">
              <table>
                <tr>&nbsp;</tr>
                <tr>
                  <td>Collecter d'argent</td>
                  <td>
                    <input style="width: 1pc;" type="checkbox" [(ngModel)]="transport.atPlace" (change)="ifAtPlace()" class="form-control">
                  </td>
                </tr>
                <tr *ngIf="transport.atPlace">
                  <td>Cash</td>
                  <td><input class="form-control" style="width: 1pc;" [(ngModel)]="transport.byCash" type="checkbox"></td>
                </tr>
              </table>
              
            </div>
            
            <div class="col-md-2" *ngIf="transport.atPlace">
              <table *ngIf="transport.atPlace">
                <tr>&nbsp;</tr>
                <tr>
                  <td>Cheque</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.byCheck"></td>
                </tr>
                <tr>
                  <td>Carte Credit</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.creditCard"></td>
                </tr>
              </table>
            </div>
  
            <div class="col-md-2" *ngIf="transport.atPlace">
              <table *ngIf="transport.atPlace">
                <tr>&nbsp;</tr>
                <tr>
                  <td>Interac</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.byInterac"></td>
                </tr>
                <tr>
                  <td>Virement</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.transfer"></td>
                </tr>
              </table>
            </div>
  
            <div class="col-md-2">
              <label class="control-label">Taxable</label>
              <input style="width: 3pc;" type="checkbox" (change)="prixCalculWithHorsTax()" [(ngModel)]="transport.taxable" name="taxable" class="form-control"/>
              <select *ngIf="transport.taxable" class="form-control" [(ngModel)]="transport.taxProvince"
                  (ngModelChange)="prixCalculWithHorsTax()">
                <option *ngFor="let prv of provinceList" [ngValue]="prv">{{prv}}</option>
              </select>
            </div>
            <div class="col-md-2">
              <label class="control-label" style="font-weight: bold; align-content: center">A Payer</label>
              <table  >
                <tr>
                  <td style="text-align: right">HorsTax:</td>
                  
                  <input style="text-align: right" type="number" (change)="prixCalculWithHorsTax()" [(ngModel)]="transport.horstax" name="horstax" class="form-control"/>
                </tr>
                <tr>
                  
                  <td *ngIf="transport.taxProvince.includes('Quebec')" style="text-align: right">TPS:</td>
                  <td *ngIf="!transport.taxProvince.includes('Quebec')" style="text-align: right">GST/HST:</td>
                  <td style="text-align: right">{{transport.tps | number : '1.2'}}</td>
                </tr>
                <tr>
                  
                  <td *ngIf="transport.taxProvince.includes('Quebec')" style="text-align: right">TVQ:</td>
                  <td *ngIf="!transport.taxProvince.includes('Quebec')" style="text-align: right">PST:</td>
                  <td style="text-align: right">{{transport.tvq | number : '1.2'}}</td>
                </tr>
                <tr>
                  <td style="text-align: right">TOTAL:</td>
                  <td style="text-align: right">{{transport.total | number : '1.2'}}</td>
                </tr>
              </table>
            </div>
          </div>
          <div *ngIf="pagePresent==10">
            <button (click)="printBonDeTransport('toprint')" class="btn btn-link">Print</button>
            <button (click)="transport.valid=true; onSaveWithMessage()" class="btn btn-link" [disabled]="transport.fini">Enregistrer</button>
            <button (click)="transport.valid=true; onEnvoyer()" class="btn btn-link" [disabled]="transport.id==null || transport.fini">
                <span *ngIf="!transport.sent">EnvoyerAuChauffeur</span><span *ngIf="transport.sent">Re-EnvoyerAuChauffeur</span>
            </button>
            <br>
          </div>
        </div>
      </div>
    </div>
    <hr style="border: 2px solid lightgray"/>
    
    <br>
    
    <div class="col-sm-12 col-lg-12 col-md-12" *ngIf="modeHistoire==-1">
      <div class="row">
        <div class="col-md-2 col-sm-2 col-lg-2">
          <button (click)="onBack()" [disabled]="back<=0">Avant</button>
        </div>      
        <div class="col-md-2 col-sm-2 col-lg-2">
          <button (click)="onForward()" [disabled]="forward>=11">Suivant</button>
        </div>
      </div>
    </div>
  
    <div id="toprint" hidden  *ngIf="modeHistoire==-1">
      <table border='1' style="font-size: 12pt; margin-inline: 5px; width: 19cm">
        <tr>
          <td style="text-align: center; text-anchor: start; width: 22%">Heure d'Appel <br> <span>&nbsp;{{transport.dateDepart | date: 'dd-MMM-yyyy'}} - {{transport.timeCall}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%">Repartiteur <br> <span>&nbsp;{{transport.nomDispatch}}</span></td>
          <td style="text-align: center; text-anchor: start; font-size: 13pt; background-color: darkgray; width: 20%">Chauffeur <br> <span>&nbsp;{{transport.nomIntervenant}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%"># PO <br> <span>&nbsp;{{transport.numPO}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 18%"># Bon <br> <span>&nbsp;{{transport.id}}</span></td>
        </tr>
        <tr>
          <th style="text-align: center; text-anchor: start; width: 22%; font-size: 13pt; background-color: darkgray">Heure Reservation <br> {{transport.dateReserve | date : 'dd-MMM-yyyy'}} - {{transport.timeResrvation}}</th>
          <td style="text-align: center; text-anchor: start; width: 20%"># Camion <br> <span>&nbsp;{{transport.camionAttribue}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%"># Trailer<br> 
            <span *ngIf="trailer1!=null">{{transport.trailer1}}</span>
            <span *ngIf="trailer2!=null"><br>{{transport.trailer2}}</span>
          </td>
          <td style="text-align: center; text-anchor: start; width: 20%">Type d'Equipement<br> <span>&nbsp;{{transport.typeCamion}}</span></td>
          <td style="text-align: center; text-anchor: start;; width: 20%">$ Montant $ <br> <span>&nbsp;{{transport.total | number : '1.2'}}</span></td>
        </tr>
        
        <tr style="border: 0px">
          <td *ngIf="transport.porterAuCompte>0" colspan="2" style="text-align: center; text-anchor: start ">Porter au Compte : {{transport.porterAuCompte}}</td>
          <th *ngIf="transport.collecterArgent>0" colspan="2" style="text-align: center; text-anchor: start; font-size: 13pt; background-color: darkgray">Collecter en argent : {{transport.collecterArgent | number : '1.2'}}</th>
          <td *ngIf="transport.byCash" style="text-align: center; text-anchor: start "> par cash </td>
          <td *ngIf="transport.byCheck" style="text-align: center; text-anchor: start "> par cheque </td>
          <td *ngIf="transport.creditCard"> par carte credit </td>
          <td *ngIf="transport.byInterac"> par interac </td>
          <td *ngIf="transport.transfer"> par virement</td>
        </tr>
        <tr>
          <td colspan="5"><span style="text-decoration-line: underline">Client:</span>
            <span>&nbsp;{{transport.nomEntreprise}} <br> </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"Commande par: " + transport.nomContact}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Tel: " + transport.telContact}}</span>
            <span *ngIf="transport.extTelContact.length>0" style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;{{"Ext: " + transport.extTelContact}}</span>
          </td>  
        </tr>
  
        <tr>
          <td colspan="5">
              <span style="text-decoration-line: underline">De:</span><span>&nbsp;{{transport.origin}}</span> <br> &nbsp;
            <span style="font-size: 11pt; font-style: italic">Contact: </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;{{transport.nomClient}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Tel: " + transport.telClient}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Tel: " + transport.telClient2em}}</span>
          </td>
        </tr>
        <tr>
          <td colspan="5">
              <span style="text-decoration-line: underline">A:</span><span>&nbsp;{{transport.destination}}</span> <br> &nbsp;
            <span style="font-size: 11pt; font-style: italic">Contact: </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;{{transport.contactDest}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Tel: " + transport.tel1Dest}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Tel: " + transport.tel2Dest}}</span>
          </td>
        </tr>
        <tr>
          <th colspan="5"style="text-align: center; text-anchor: start ">
              <span>Loads Liste</span>
          </th>
        </tr>
      </table>
      <table border='1' style="font-size: 12pt; margin-inline: 5px; width: 19cm">
        <tr *ngIf="mode==1">
          <th style="width: 10%">Quantites</th>
          <th style="width: 50%">Description</th>
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th colspan="3" style="text-align: center">Dimension</th>
              </tr>
              <tr>
                <td style="width: 34%">Long(pi)</td>
                <td style="width: 33%">Larg(pi)</td>
                <td style="width: 33%">Haut(pi)</td>
              </tr>
            </table>
          </td>
          
          <td style="width: 10%">Poids(lb)</td>                        
        </tr>
        <tr *ngIf="mode==2">
          <th style="width: 10%">Quantites</th>
          <th style="width: 50%">Description</th>
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th colspan="3" style="text-align: center">Dimension</th>
              </tr>
              <tr>
                <td style="width: 34%">Long(cm)</td>
                <td style="width: 33%">Larg(cm)</td>
                <td style="width: 33%">Haut(cm)</td>
              </tr>
            </table>
          </td>
          <td style="width: 10%">Poids(kg)</td>                        
        </tr>
        
        <tr *ngFor="let load of loadDetails">
          <td style="text-align: center; width: 10%">{{load.quantity}}</td>
          <td style="width: 50%">{{load.description}}</td> 
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <td style="width: 34%; text-align: right">{{load.longueur}}</td>
                <td style="width: 33%; text-align: right">{{load.largeur}}</td>
                <td style="width: 33%; text-align: right">{{load.hauteur}}</td>      
              </tr>
            </table>
          </td>
          
          <td style="text-align: right; width: 10%">{{load.poids}}</td>
        </tr>
        <tr>
          
          <th colspan="2" style="text-align: right; width: 60%">{{"Total longueur et poids : "}}</th> 
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th *ngIf="transport.longueur!=null" style="width: 34%; text-align: right">{{transport.longueur}}</th>
                <td style="width: 33%; text-align: center">{{" "}}</td>
                <td style="width: 33%; text-align: center">{{" "}}</td>      
              </tr>
            </table>
          </td>
          <th *ngIf="transport.poids!=null" style="text-align: right; width:10%">{{transport.poids}}</th>
        </tr> 
        <tr *ngIf="transport.waitingTime>0">
          <th colspan="2">Temps Attente : {{transport.waitingTime | number : '1.2'}} heures</th>
        </tr>
        <tr *ngIf="transport.waitingTime>0">
          <th colspan="2">Temps PTO : {{transport.waitingTime | number : '1.2'}} heures</th>
        </tr>
      
        <tr> 
          <td colspan="5"style="text-align: left; text-anchor: start ">
              <span style="text-decoration-line: underline">Plus infos :</span> <span>&nbsp;{{transport.comments}} <br>&nbsp;</span>
          </td>
        </tr>
        <tr> 
          <td colspan="5"style="text-align: left; text-anchor: start ">
              <span style="text-decoration-line: underline">Note au Chauffeur:</span> <span>&nbsp;{{transport.driverNote}} <br>&nbsp;</span>
          </td>
        </tr>
        <tr>
          <td colspan="5"style="text-align: left; text-anchor: start ">
            {{transport.nomSignature}}  <span>&nbsp;
              <img [src]="transport.signature" height="100" width="250" *ngIf="transport.signature.length>0">
            <br>&nbsp;</span>
          </td>
        </tr>
      </table>
    </div>
</div>

<div *ngIf="varsGlobal.language.includes('English')">
  <h4 style="text-align: left; font: bold">
    Freight<span>&nbsp;&nbsp;&nbsp;</span>
    <span *ngIf="modeHistoire==-1&&transport.id>0"><button (click)="onReset()" class="btn btn-link">CancelLoad</button></span>
    
    <span *ngIf="modeHistoire==1"><button (click)="onHistoire()" class="btn btn-link">NewLoad</button></span>
    <span *ngIf="modeHistoire==-1"><button (click)="onHistoire()" class="btn btn-link">LoadsManagement</button></span>
    <span *ngIf="modeHistoire==1"><button (click)="onRefresh()" class="btn btn-link">Refresh</button></span>
  </h4>
  <hr style="border: 1px dotted black"/>
  <div *ngIf="modeHistoire==1">
    
    <div class="row">
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: green; text-align: center">
        <button (click)="appelsAttentes()" style="color: green; text-align: center">PendingList</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: orange; text-align: center">
        <button (click)="appelsEncours()" style="color: orange; text-align: center">CurrentList</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: red; text-align: center">
        <button (click)="appelsFinis()" style="color: red; text-align: center">Finished</button> 
      </div>
      <div class="col-md-3 col-sm-3 col-lg-3" style="color: blue; text-align: center">
        <button (click)="appelsAnnules()" style="color: blue; text-align: center">LoadsCancelled</button> 
      </div>
    </div>
    <br>
    <div class="row">
      <div class="col-md-12 col-sm-12 col-lg-12">
        <table *ngIf="modeGestionAppel==1" class="table">
          <tr style="background-color: whitesmoke">
            <th>Number</th><th (click)='onSortDate(listTrs)'>Reservation</th><th>Client</th>
            <th>PhoneClient</th><th>Email</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>DateCall</th>
          </tr>
          <tr *ngFor="let t of listTrs" style="color: green; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.emailContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>          
            <td (click)="gotoDetailTransport(t)">{{t.dateDepart | date: 'dd-MMM-yyyy'}}</td>
          </tr>
          <tr *ngIf="listTrs.length==0" style="color: green">
            <td>Pending List is empty now.</td>
          </tr>
        </table>
        <table *ngIf="modeGestionAppel==2" class="table">
          <tr style="background-color: whitesmoke">
            <th>Number</th><th (click)='onSortDate(listTrsSent)'>Reservation</th><th>Client</th>
            <th>PhoneClient</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>Driver</th><th>Unit</th>
          </tr>
          <tr *ngFor="let t of listTrsSent" style="color: orange; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomIntervenant}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.camionAttribue}}</td>
          </tr>
          <tr *ngIf="listTrsSent.length==0" style="color:orange">
            <td>Current List is empty now.</td>
          </tr>  
        </table>
        <table *ngIf="modeGestionAppel==3" class="table">
          <tr style="background-color: whitesmoke">
            <th>Number</th><th (click)='onSortDate(listTrsFini)'>Reservation</th><th>Client</th>
            <th>TelClient</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>Driver</th><th>Unit</th>
          </tr>
          <tr *ngFor="let t of listTrsFini" style="color: red; background-color: whitesmoke">
            <td (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.nomIntervenant}}</td>
            <td (click)="gotoDetailTransport(t)">{{t.camionAttribue}}</td>
          </tr>
          <tr *ngIf="listTrsFini.length==0" style="color: red">
            <td>List is empty now.</td>
          </tr>
        </table>
        <table *ngIf="modeGestionAppel==4" class="table">
          <tr style="background-color: whitesmoke">
            <th>Number</th><th (click)='onSortDate(listTrsAnnule)'>Reservation</th><th>Client</th>
            <th>PhoneClient</th><th>Email</th><th>Origin</th><th>Destination</th>
            <th>Distance(miles)</th><th>DateCall</th>
          </tr>
          <tr *ngFor="let t of listTrsAnnule" style="color: blue; background-color: whitesmoke">
            <td style="width: 6%;" (click)="gotoDetailTransport(t)">{{t.id}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.dateReserve | date: 'dd-MMM-yyyy'}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.nomEntreprise}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.telClient+ ' #'+ t.extTelContact}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.emailContact}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.originVille+' - '+t.originProvince}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.destVille+' - '+t.destProvince}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.distance}}</td>
            <td style="width: 10%;" (click)="gotoDetailTransport(t)">{{t.dateDepart | date: 'dd-MMM-yyyy'}}</td>
            <td style="width: 6%;"><button class="btn btn-link" (click)="onDelete(t)">Delete</button></td>
          </tr>
          <tr *ngIf="listTrsAnnule.length==0" style="color: blue">
            <td>List is empty now.</td>
          </tr>
        </table>
      </div>
      
    </div>
  </div>
  
  <div *ngIf="modeHistoire==-1">
  
      <div class="panel panel-primary">
        <table border="1" *ngIf="pagePresent>=2">
          <tr>
            <th>#Num : {{transport.id}} </th>
  
            <th><button class="btn btn-link" (click)="onPage2()">
              <strong *ngIf="pagePresent==2">Client</strong>
              <span *ngIf="pagePresent!=2">Client</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage3()">
              <strong *ngIf="pagePresent==3">ContactOrigin</strong>
              <span *ngIf="pagePresent!=3">ContactOrigin</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage4()">
              <strong *ngIf="pagePresent==4">ContactDestination</strong>
              <span *ngIf="pagePresent!=4">ContactDestination</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage5()">
              <strong *ngIf="pagePresent==5">Loads</strong>
              <span *ngIf="pagePresent!=5">Loads</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage6()">
              <strong *ngIf="pagePresent==6">TypeEquipment</strong>
              <span *ngIf="pagePresent!=6">TypeEquipment</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage7()">
              <strong *ngIf="pagePresent==7">MoreInfos</strong>
              <span *ngIf="pagePresent!=7">MoreInfos</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage8()">
              <strong *ngIf="pagePresent==8">Join Image</strong>
              <span *ngIf="pagePresent!=8">Join Image</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage9()">
              <strong *ngIf="pagePresent==9">TruckTrailerDriver</strong>
              <span *ngIf="pagePresent!=9">TruckTrailerDriver</span>
            </button></th>
            <th><button class="btn btn-link" (click)="onPage10()">
              <strong *ngIf="pagePresent==10">Summary</strong>
              <span *ngIf="pagePresent!=10">Summary</span>
            </button></th>
          </tr>
        </table>
        <br *ngIf="pagePresent>=2">
        <div class="col-sm-12 col-lg-12 col-md-12">
          
          <div class="row" *ngIf="pagePresent==1">
            <div class="col-md-3 col-sm-3 col-lg-3">
              <h5><label>
                Dispatch 
                <input type="text" [(ngModel)]="transport.nomDispatch" name="nomDispatch" class="form-control">
              </label></h5> 
            </div>
            <div class="col-md-3 col-sm-3 col-lg-3">
              <label for=""><h5>
                FilledModel
                <input type="text"  [(ngModel)]="templateName"
                  name="templateName" class="form-control" (change)="templateChange()" list="defaultTemplates">
                <datalist id="defaultTemplates">
                  <option *ngFor="let t of templates" [ngValue]="t">{{t.modelName +' &nbsp;&nbsp; .Id.'+t.id}}</option>
                </datalist>
                <button class="btn btn-link" (click)="modifyModels=true">
                  FilledModel List
                </button>
              </h5></label>
              
            </div>
            <div class="col-md-3 col-sm-3 col-lg-3">
              <h5>
                {{transport.dateDepart | date: 'dd-MMM-yyyy'}} - {{transport.timeCall}}
              </h5>
            </div>
            <div *ngIf="transport.id!=null" class="col-md-3 col-sm-3 col-lg-3">
              <h5>#Num : {{transport.id}} </h5>
            </div>
          </div>
          <div class="row" *ngIf="modifyModels==true">
              <div class="panel-body">
                  <table>
                      <tr><th><h4>FilledModeles List</h4></th></tr> 
                      <tr>
                          <th>Model</th><th>Company</th>
                      </tr>                    
                      <tr *ngFor="let t of templates">
                          <td><input class="form-control" type="text" [(ngModel)]="t.modelName" /></td>
                          <td><input class="form-control" type="text" [(ngModel)]="t.nomEntreprise" disabled/></td>                
                          <td><button class="btn btn-link" (click)="modifyTemplate(t)">Modify</button></td>
                          <td><button class="btn btn-link" (click)="deleteTemplate(t.id)">Delete</button></td>
                      </tr>
                      <tr *ngIf="templates.length==0">
                        <td>There are no filled model now.</td>
                      </tr>
                      <tr>
                        <td colspan="2" style="text-align: center;"><button class="btn btn-link" (click)="modifyModels=false">Close</button></td>
                      </tr>
                  </table>
              </div>
          </div>
          
        </div>
        <div class="panel-body">
          <h5 style="text-align: left; font: bold; text-decoration-line: underline" *ngIf="pagePresent==2">Client Infos <br></h5>
          <div *ngIf="pagePresent==2" class="row">
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Client</label>
                <input type="text" [(ngModel)]="transport.nomEntreprise"
                     name="nomEntreprise" (change)="nomEntrepriseInputChange()" class="form-control"
                     list="defaultShippers"> 
                <datalist id="defaultShippers">
                  <option *ngFor="let e of listShipper" [ngValue]="e">{{e.nom}}</option>
                </datalist>
                
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">#PO</label>
                <input type="text" [(ngModel)]="transport.numPO" name="numPO"
                     class="form-control">
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Reservation</label>
                <input type="date" [ngModel]="transport.dateReserve | date: 'yyyy-MM-dd'"
                     name="dateReserve" min="{{today | date: 'yyyy-MM-dd'}}"
                     class="form-control" (change)="dateChange($event)"
                     required pattern="[0-9]{2}-[0-9]{2}-[0-9]{4}"/>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">TimeReserve</label>
                <input type="time" [(ngModel)]="transport.timeResrvation"
                     name="timeResrvation" class="form-control">
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==2" class="row">
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Ordered by</label>
                <input type="text" (change)="contactChange()" [(ngModel)]="transport.nomContact"
                     name="nomContact" class="form-control" list="defaultContacts">
                <datalist id="defaultContacts">
                  <option *ngFor="let e of contacts" [ngValue]="e">{{e.prenom+'  .Id.'+e.id}}</option>
                </datalist>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Phone</label>
                <input type="tel" [(ngModel)]="transport.telContact" name="telContact"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                     (focusout)="transport.telContact=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Extension</label>
                <input type="text" [(ngModel)]="transport.extTelContact" name="extTelContact"
                     class="form-control">
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Email</label>
                <input type="email" [(ngModel)]="transport.emailContact" name="emailContact" class="form-control" required>
              </div>
            </div>
          </div>
          
  
          
  
          <div *ngIf="pagePresent==3"><label style="text-decoration-line: underline">Contact & Address Origin</label></div>
          <div *ngIf="pagePresent==3" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="text"  [(ngModel)]="transport.nomClient"
                     name="nomClient" class="form-control" placeholder="Name">
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.telClient" name="telClient"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Phone"
                     (focusout)="transport.telClient=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input [(ngModel)]="transport.telClient2em" name="telClient2em"
                     class="form-control" placeholder="Phone/Email">
              </div>
            </div>
          
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.originAdresse" name="origin"
                   class="form-control" (change)="originChange()" placeholder="Number & road"/>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.originVille" name="originVille"
              class="form-control" (change)="originChange()" list="defaultVilles" placeholder="City">
              <datalist id="defaultVilles">
                  <option *ngFor="let v of villeListO" [ngValue]="v">{{v}}</option>
              </datalist>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <select type="text" class="form-control" [(ngModel)]="transport.originProvince"
              (change)="originChange()">
                <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
              </select>
            </div>
          </div>
  
          <div *ngIf="pagePresent==4"><label style="text-decoration-line: underline">Contact & Address Destination</label></div>
          <div *ngIf="pagePresent==4" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="text"  [(ngModel)]="transport.contactDest"
                     name="nomClient" class="form-control" placeholder="Name">
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.tel1Dest" name="tel1Dest"
                     class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="Phone"
                     (focusout)="transport.tel1Dest=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                
                <input type="tel" [(ngModel)]="transport.tel2Dest" name="tel2Dest"
                     class="form-control" placeholder="Phone/Email">
              </div>
            </div>
          
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.destAdresse" name="destAdresse"
                   class="form-control" (change)="destinationChange()" placeholder="Number & road"/>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <input type="text" [(ngModel)]="transport.destVille" name="destVille"
              class="form-control" (change)="destinationChange()" list="defaultVillesD" placeholder="City">
              <datalist id="defaultVillesD">
                  <option *ngFor="let v of villeListD" [ngValue]="v">{{v}}</option>
              </datalist>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <select type="text" class="form-control" [(ngModel)]="transport.destProvince"
              (change)="destinationChange()">
                <option *ngFor="let p of provinceList" [ngValue]="p">{{p}}</option>
              </select>
            </div>
          </div>
          
          <div *ngIf="pagePresent==5">
            <h5 *ngIf="pagePresent==5">
              <span style="text-align: left; font: bold; text-decoration-line: underline">Loads </span>  <span>&nbsp;&nbsp;&nbsp;</span>
            
            </h5>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <table class="table table-striped table-sm table-responsive">
              <tr *ngIf="mode==1">
                <th>Quantities</th><th>Name & Description</th><th>Length(ft)</th><th>Width(ft)</th><th>Height(ft)</th><th>Weight(lbs)</th>                        
              </tr>
              <tr *ngIf="mode==2">
                <th>Quantities</th><th>Name & Description</th><th>Length(cm)</th><th>Width(cm)</th><th>Height(cm)</th><th>Weight(kg)</th>                        
              </tr>
              <tr *ngFor="let load of loadDetails">
                <td>
                  <input type="number" class="form-control" [(ngModel)]="load.quantity" (change)="dimensionResume()"/>
                </td>
                <td>
                  <textarea class="form-control" type="text" rows="1" cols="30" [(ngModel)]="load.description"></textarea>
                </td> 
                <td><input type="number" class="form-control" [(ngModel)]="load.longueur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.largeur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.hauteur" (change)="dimensionResume()"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="load.poids" (change)="dimensionResume()"/></td>
                <td><button class="btn btn-link" (click)="deleteLoadDetail(load); dimensionResume()">Delete</button></td>
              </tr>  
              <tr>
                
              </tr>
              <tr>
                <td>
                  <input type="number" class="form-control" [(ngModel)]="this.loadDetail.quantity" 
                  (change)="priceLoad(loadDetail, loadFrequent)" placeholder="quantite" placeholder="quantity"/>
                </td>
                <td>
                  <textarea class="form-control" type="text" rows="1" cols="30" [(ngModel)]="this.loadDetail.description" 
                    placeholder="description"></textarea>
                </td> 
                
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.longueur" placeholder="length"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.largeur" placeholder="width"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.hauteur" placeholder="height"/></td>
                <td><input type="number" class="form-control" [(ngModel)]="this.loadDetail.poids" placeholder="weight"/></td>
                <td><button class="btn btn-link" (click)="addLoadDetail()">Add</button></td>
              </tr>   
              <tr *ngIf="loadFrequents.length>0">
                <td>Select Loads Frequent</td>
                <td>
                  <select class="form-control" [(ngModel)]="loadFrequent"
                  (ngModelChange)="loadFrequentChange()">
                    <option [ngValue]="null"> </option>
                    <option *ngFor="let lf of loadFrequents" [ngValue]="lf">{{lf.nom}}</option>
                  </select>
                </td>
              </tr>        
            </table>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Length(pied)</label>
                <label *ngIf="mode==2">Total Length(cm)</label>
                <input type="number" [(ngModel)]="transport.longueur" name="longueur" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Weight(lb)</label>
                <label *ngIf="mode==2">Total Weight(kg)</label>
                <input type="number" [(ngModel)]="transport.poids" name="poids" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Distance(mile)</label>
                <label *ngIf="mode==2">Distance(km)</label>
                <input type="number" [(ngModel)]="transport.distance" name="distance" (change)="calculTotalpoints()" class="form-control" disabled/>
                <span>{{(showKm(this.transport.distance)+ " kms")}}</span>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label >Total Fees($)</label>
                <input type="number" [(ngModel)]="transport.loadsFee" (change)="prixCalcul()" class="form-control"/>
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <div  class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for=""><strong>HoursWaiting</strong></label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingTime"
              (change)="transport.waitingFee=transport.waitingTime*transport.waitingPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">WaitingPrice($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingPrice"
              (change)="transport.waitingFee=transport.waitingTime*transport.waitingPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">FeesWaiting($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.waitingFee"
              (change)="prixCalcul()">
            </div>
          </div>
          <div *ngIf="pagePresent==5" class="row">
            <div  class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for=""><strong>HoursPTO</strong></label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoTime"
              (change)="transport.ptoFee=transport.ptoTime*transport.ptoPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">PricePTO($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoPrice"
              (change)="transport.ptoFee=transport.ptoTime*transport.ptoPrice; prixCalcul()">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2; form-group">
              <label for="">FeesPTO($)</label>
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.ptoFee"
              (change)="prixCalcul()">
            </div>
          </div>
          
          <div *ngIf="pagePresent==6">
            
                <label style="text-decoration-line: underline;" class="control-label">EquipmentType : </label>
                <input type="text" [(ngModel)]="transport.typeCamion" name="typeCamion" class="form-control"/>
              
          </div>
          <div *ngIf="pagePresent==6" class="container" style="margin-left: 20px; margin-bottom: 10px">
              
                <form [formGroup]="formGroup" >
                  <table border="1px">
                    <ng-container formArrayName="camionTypes" *ngFor="let camionType of formGroup.controls.camionTypes['controls']; let i = index" >      
                      <tr *ngIf="(i % 9 === 0 && i<18)">
                        <td style="font-size: 7; font-style: italic" *ngFor="let x of [i,i+1,i+2,i+3,i+4,i+5,i+6,i+7,i+8]">  
                            {{camionTypes[x].name}}
                            <input type="checkbox" [formControlName]='x' (change)="onChangeTypeCamion()"/>
                        </td>
                      </tr>
                    </ng-container>
                  </table>
                </form>
              
          </div>
  
          <div *ngIf="pagePresent==6">
            <label style="text-decoration-line: underline;" class="control-label">Options : </label>
            <input type="text" [(ngModel)]="transport.optionDemande" name="optionDemande" class="form-control"/>
          </div>
          <div *ngIf="pagePresent==6" class="container" style="margin-left: 20px; margin-bottom: 10px">
            <form [formGroup]="formGroup" >
              <table border="1px">
                <ng-container formArrayName="optionTypes" *ngFor="let optionType of formGroup.controls.optionTypes['controls']; let i = index" >      
                  <tr *ngIf="i % 8 === 0 && i<16">
                    <td style="font-size: 7; font-style: italic" *ngFor="let x of [i,i+1,i+2,i+3,i+4,i+5,i+6,i+7]">  
                        {{optionTypes[x].name}}
                        <input type="checkbox" [formControlName]='x' (change)="onChangeOption()"/>
                    </td>
                  </tr>
                </ng-container>
              </table>
            </form>
          </div>
  
          <div class="row" *ngIf="pagePresent==7">
            <div class="col-sm-2 col-md-2 col-lg-2"><label style="text-decoration-line: underline;" class="control-label">More infos</label></div>
            <div class="col-sm-10 col-md-10 col-lg-10">
              <textarea name="comments" class="form-control" cols="80" rows="2"
                    [(ngModel)]="transport.comments"
                    style="margin-top: 0px"></textarea>
            </div>
          </div>
          
          <div *ngIf="pagePresent==8" class="row">
            <div class="col-sm-12 col-md-12 col-lg-12">
              <label style="text-decoration-line: underline" for="">Join Image</label>
              <input class="form-control" type="file" title="Join image " (change)="onFileUpLoad($event)" accept="image/x-png,image/gif,image/jpeg" placeholder="">
              <button *ngIf="transport.imgUrl.length>0" (click)="transport.imgUrl=''" class="btn btn-link">Delete Image</button>
            </div>
            <div *ngIf="transport.imgUrl.length>0" class="col-sm-12 col-md-12 col-lg-12" style="border: 2px dotted gray">
              
              <a href="{{transport.imgUrl}}" target="_blank">
                <img [src]="transport.imgUrl" alt="piece joint" class="img-responsive" width="245" height="300">
              </a>
            </div>
          </div>
          
          <h5 style="text-decoration-line: underline" *ngIf="pagePresent==9">Truck & Trailer & Driver</h5>
          <div *ngIf="pagePresent==9" class="row">
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Truck</label>
                <input type="text" [(ngModel)]="transport.camionAttribue" 
                  name="camionAttribue" list="defaultCamions" class="form-control" (change)="camionChange()" required>
                
                <datalist id="defaultCamions">
                  
                    <option value=" "><strong>Units with GPS</strong></option>
                    
                    <option *ngFor="let c of camionsGps" [ngValue]="c">
                      {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.type+ ' ' +c.modele+'  .Id.'+c.id)}}
                      
                    </option>
                    
                      <option value=" "><strong>Units no-GPS</strong></option>
                      <option *ngFor="let c of camions" [ngValue]="c">
                        {{(c.foreignName!=null && c.foreignName.length>0) ? c.foreignName+'  .Id.'+c.id : ("#"+c.unite+ ' ' +c.marque +' ' +c.type+ ' ' +c.modele+'  .Id.'+c.id)}}
                        
                      </option>
                    
                </datalist>
              </div>
              
            </div>          
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Trailer1</label>
                <input type="text" [(ngModel)]="transport.trailer1" 
                  name="trailer1" list="defaultTrailers" class="form-control" (change)="trailer1Change()">
                <datalist id="defaultTrailers">
                    <option *ngFor="let r of remorques" [ngValue]="r">{{r.unite + ' - ' + r.marque +'  ' +r.modele + '  .Id.'+r.id}}</option>
                </datalist>
              </div>
             
            </div>          
            <div class="col-sm-12 col-md-4 col-lg-4">
              <div class="form-group">
                <label for="">Trailer2</label>
                <input type="text" [(ngModel)]="transport.trailer2" 
                  name="trailer2" list="defaultTrailers" class="form-control" (change)="trailer2Change()" [disabled]="transport.trailer1.length<1">
                <datalist id="defaultTrailers">
                    <option *ngFor="let r of remorques" [ngValue]="r">{{r.unite + ' - ' + r.marque +'  ' +r.modele +'  .Id.'+r.id}}</option>
                </datalist>
              </div>
              
            </div>          
            
          </div>

          <div *ngIf="pagePresent==9" class="row">          

            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">

                  <strong style="text-decoration-line: underline">Driver</strong>
                  
                </label>
                <input type="text"  [(ngModel)]="transport.nomIntervenant"
                  name="nomIntervenant" class="form-control" (change)="chauffeurChange()" list="defaultChauffeurs">
                <datalist id="defaultChauffeurs">
                  <option *ngFor="let e of chauffeurs" [ngValue]="e">{{e.nom+'  .Id.'+e.id}}</option>
                </datalist>
              </div>
            </div>
            <div class="col-sm-6 col-md-2 col-lg-2">
              <div class="form-group">
                <label for="">Phone</label>
                <input type="tel" [(ngModel)]="transport.telIntervenant" name="telIntervenant"
                      class="form-control" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" placeholder="xxx-xxx-xxxx"
                      (focusout)="transport.telIntervenant=reformTelEvent($event)" required>
              </div>
            </div>
            <div class="col-sm-6 col-md-3 col-lg-3">
              <div class="form-group">
                <label for="">Email</label>
                <input type="email" [(ngModel)]="transport.emailIntervenant" name="emailIntervenant" class="form-control" list="defaultEmails" 
                required>
                  <datalist id="defaultEmails">
                  </datalist>
              </div>
            </div>
            <div  class="col-sm-6 col-md-1 col-lg-1; form-group">
              <label for=""><strong>Volume</strong></label>
              
              <span class="form-control" style="border: none;">Default</span>
              <span class="form-control" style="border: none;">Used</span>
              <span class="form-control" style="border: none;">Available</span>
            </div>
            <div class="col-sm-6 col-md-1 col-lg-1; form-group">
              <label for="">Length(ft)</label>
              <input class="form-control"  type="number" size="5" [value]="volumeLongueur()">
              <input class="form-control"  type="number" size="5" [(ngModel)]="transport.longueur" style="background-color: darkorange;">
              <input class="form-control"  type="number" size="5" [value]="volumeLongueur()-transport.longueur" style="background-color:greenyellow;">
            </div>
            <div class="col-sm-6 col-md-2 col-lg-2; form-group">
              <label for="">Weight(lbs)</label>
              <input class="form-control" type="number" size="5" [value]="volumePoids()">
              <input class="form-control" type="number" size="5" [(ngModel)]="transport.poids" style="background-color: darkorange;">
              <input class="form-control"  type="number" size="5" [value]="volumePoids()-transport.poids" style="background-color:greenyellow;">
            </div>
          </div>
          
          <div *ngIf="pagePresent==9" class="row">
            
            
            <div class="col-sm-6 col-md-6 col-lg-6; form-group">
              <label for="" style="text-decoration-line: underline;" class="control-label"><strong>Note to Driver</strong></label>
              <textarea name="comments" class="form-control" cols="80" rows="2"
                    [(ngModel)]="transport.driverNote" style="margin-bottom: 0px"
                    style="margin-top: 0px"></textarea>
            </div>
            
          </div>
          
          <h5 style="text-decoration-line: underline" *ngIf="pagePresent==10">Summary</h5>
          <div *ngIf="pagePresent==10" class="row">
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Length(pied)</label>
                <label *ngIf="mode==2">Total Length(cm)</label>
                <input type="number" [(ngModel)]="transport.longueur" name="longueur" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Total Weight(lbs)</label>
                <label *ngIf="mode==2">Total Weight(kg)</label>
                <input type="number" [(ngModel)]="transport.poids" name="poids" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label >Value($)</label>
                <input type="number" [(ngModel)]="transport.valeur" name="valeur" (change)="calculTotalpoints()" class="form-control"/>
              </div>
            </div>
            <div class="col-sm-12 col-md-2 col-lg-2">
              <div class="form-group">
                <label *ngIf="mode==1">Distance(mile)</label>
                <label *ngIf="mode==2">Distance(km)</label>
                <input type="number" [(ngModel)]="transport.distance" name="distance" (change)="calculTotalpoints()" class="form-control" disabled/>
              </div>
            </div>
          </div>
          <div *ngIf="pagePresent==10" class="row" style="margin-top: 10px">
            <div class="col-md-2">
              <div class="form-group">
                <table>
                  <tr>&nbsp;</tr>
                  <tr>
                    <td>ChargeAccount</td>
                    <td>
                      <input style="width: 1pc;" type="checkbox" [(ngModel)]="transport.debit" (change)="ifDebit()" class="form-control">
                    </td>
                  </tr>
                </table>
                
              </div>
            </div>
            <div class="col-md-2">
              <table>
                <tr>&nbsp;</tr>
                <tr>
                  <td>Collect Money</td>
                  <td>
                    <input style="width: 1pc;" type="checkbox" [(ngModel)]="transport.atPlace" (change)="ifAtPlace()" class="form-control">
                  </td>
                </tr>
                <tr *ngIf="transport.atPlace">
                  <td>Cash</td>
                  <td><input class="form-control" style="width: 1pc;" [(ngModel)]="transport.byCash" type="checkbox"></td>
                </tr>
              </table>
              
            </div>
            
            <div class="col-md-2" *ngIf="transport.atPlace">
              <table *ngIf="transport.atPlace">
                <tr>&nbsp;</tr>
                <tr>
                  <td>Check</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.byCheck"></td>
                </tr>
                <tr>
                  <td>Credit Card</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.creditCard"></td>
                </tr>
              </table>
            </div>
  
            <div class="col-md-2" *ngIf="transport.atPlace">
              <table *ngIf="transport.atPlace">
                <tr>&nbsp;</tr>
                <tr>
                  <td>Interac</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.byInterac"></td>
                </tr>
                <tr>
                  <td>Transfer</td>
                  <td><input class="form-control" style="width: 1pc;" type="checkbox" [(ngModel)]="transport.transfer"></td>
                </tr>
              </table>
            </div>
  
            <div class="col-md-2">
              <label class="control-label">Taxable</label>
              <input style="width: 3pc;" type="checkbox" (change)="prixCalculWithHorsTax()" [(ngModel)]="transport.taxable" name="taxable" class="form-control"/>
              <select *ngIf="transport.taxable" class="form-control" [(ngModel)]="transport.taxProvince"
                  (ngModelChange)="prixCalculWithHorsTax()">
                <option *ngFor="let prv of provinceList" [ngValue]="prv">{{prv}}</option>
              </select>
            </div>
            <div class="col-md-2">
              <label class="control-label" style="font-weight: bold; align-content: center">Pay</label>
              <table  >
                <tr>
                  <td style="text-align: right">SubTotal:</td>
                  
                  <input style="text-align: right" type="number" (change)="prixCalculWithHorsTax()" [(ngModel)]="transport.horstax" name="horstax" class="form-control"/>
                </tr>
                <tr>
                  
                  <td *ngIf="transport.taxProvince.includes('Quebec')" style="text-align: right">TPS:</td>
                  <td *ngIf="!transport.taxProvince.includes('Quebec')" style="text-align: right">GST/HST:</td>
                  <td style="text-align: right">{{transport.tps | number : '1.2'}}</td>
                </tr>
                <tr>
                  
                  <td *ngIf="transport.taxProvince.includes('Quebec')" style="text-align: right">TVQ:</td>
                  <td *ngIf="!transport.taxProvince.includes('Quebec')" style="text-align: right">PST:</td>
                  <td style="text-align: right">{{transport.tvq | number : '1.2'}}</td>
                </tr>
                <tr>
                  <td style="text-align: right">TOTAL:</td>
                  <td style="text-align: right">{{transport.total | number : '1.2'}}</td>
                </tr>
              </table>
            </div>
          </div>
          <div *ngIf="pagePresent==10">
            <button (click)="printBonDeTransport('toprint')" class="btn btn-link">Print</button>
            <button (click)="transport.valid=true; onSaveWithMessage()" class="btn btn-link" [disabled]="transport.fini">Save</button>
            <button (click)="transport.valid=true; onEnvoyer()" class="btn btn-link" [disabled]="transport.id==null || transport.fini">
                <span *ngIf="!transport.sent">SendToDriver</span><span *ngIf="transport.sent">Re-SendToDriver</span>
            </button>
            <br>
          </div>
        </div>
      </div>
    </div>
    <hr style="border: 2px solid lightgray"/>
    
    <br>
    
    <div class="col-sm-12 col-lg-12 col-md-12" *ngIf="modeHistoire==-1">
      <div class="row">
        <div class="col-md-2 col-sm-2 col-lg-2">
          <button (click)="onBack()" [disabled]="back<=0">Back</button>
        </div>      
        <div class="col-md-2 col-sm-2 col-lg-2">
          <button (click)="onForward()" [disabled]="forward>=11">Next</button>
        </div>
      </div>
    </div>
  
  
    <div id="toprint" hidden  *ngIf="modeHistoire==-1">
      <table border='1' style="font-size: 12pt; margin-inline: 5px; width: 19cm">
        <tr>
          <td style="text-align: center; text-anchor: start; width: 22%">TimeCall <br> <span>&nbsp;{{transport.dateDepart | date: 'dd-MMM-yyyy'}} - {{transport.timeCall}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%">Dispatch <br> <span>&nbsp;{{transport.nomDispatch}}</span></td>
          <td style="text-align: center; text-anchor: start; font-size: 13pt; background-color: darkgray; width: 20%">Driver <br> <span>&nbsp;{{transport.nomIntervenant}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%">#PO <br> <span>&nbsp;{{transport.numPO}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 18%">#Num <br> <span>&nbsp;{{transport.id}}</span></td>
        </tr>
        <tr>
          <th style="text-align: center; text-anchor: start; width: 22%; font-size: 13pt; background-color: darkgray">Reservation <br> {{transport.dateReserve | date : 'dd-MMM-yyyy'}} - {{transport.timeResrvation}}</th>
          <td style="text-align: center; text-anchor: start; width: 20%">#Unit <br> <span>&nbsp;{{transport.camionAttribue}}</span></td>
          <td style="text-align: center; text-anchor: start; width: 20%">#Trailer<br> 
            <span *ngIf="trailer1!=null">{{transport.trailer1}}</span>
            <span *ngIf="trailer2!=null"><br>{{transport.trailer2}}</span>
          </td>
          <td style="text-align: center; text-anchor: start; width: 20%">EquipementType<br> <span>&nbsp;{{transport.typeCamion}}</span></td>
          <td style="text-align: center; text-anchor: start;; width: 20%">$ Rate $ <br> <span>&nbsp;{{transport.total | number : '1.2'}}</span></td>
        </tr>
        
        <tr style="border: 0px">
          <td *ngIf="transport.porterAuCompte>0" colspan="2" style="text-align: center; text-anchor: start ">ChargeAccount : {{transport.porterAuCompte}}</td>
          <th *ngIf="transport.collecterArgent>0" colspan="2" style="text-align: center; text-anchor: start; font-size: 13pt; background-color: darkgray">Collect Money : {{transport.collecterArgent | number : '1.2'}}</th>
          <td *ngIf="transport.byCash" style="text-align: center; text-anchor: start "> Cash </td>
          <td *ngIf="transport.byCheck" style="text-align: center; text-anchor: start "> Check </td>
          <td *ngIf="transport.creditCard"> Credit Card </td>
          <td *ngIf="transport.byInterac"> Interac </td>
          <td *ngIf="transport.transfer"> Transfer</td>
        </tr>
        <tr>
          <td colspan="5"><span style="text-decoration-line: underline">Client:</span>
            <span>&nbsp;{{transport.nomEntreprise}} <br> </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"Ordered by: " + transport.nomContact}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Phone: " + transport.telContact}}</span>
            <span *ngIf="transport.extTelContact.length>0" style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;{{"Ext: " + transport.extTelContact}}</span>
          </td>  
        </tr>
  
        <tr>
          <td colspan="5">
              <span style="text-decoration-line: underline">From:</span><span>&nbsp;{{transport.origin}}</span> <br> &nbsp;
            <span style="font-size: 11pt; font-style: italic">Contact: </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;{{transport.nomClient}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Phone: " + transport.telClient}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Phone/Email: " + transport.telClient2em}}</span>
          </td>
        </tr>
        <tr>
          <td colspan="5">
              <span style="text-decoration-line: underline">To:</span><span>&nbsp;{{transport.destination}}</span> <br> &nbsp;
            <span style="font-size: 11pt; font-style: italic">Contact: </span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;{{transport.contactDest}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Phone: " + transport.tel1Dest}}</span>
            <span style="font-size: 11pt; font-style: italic">&nbsp;&nbsp;&nbsp;{{"- Phone/Email: " + transport.tel2Dest}}</span>
          </td>
        </tr>
        <tr>
          <th colspan="5"style="text-align: center; text-anchor: start ">
              <span>Loads List</span>
          </th>
        </tr>
      </table>
      <table border='1' style="font-size: 12pt; margin-inline: 5px; width: 19cm">
        <tr *ngIf="mode==1">
          <th style="width: 10%">Quantity</th>
          <th style="width: 50%">Description</th>
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th colspan="3" style="text-align: center">Dimension</th>
              </tr>
              <tr>
                <td style="width: 34%">Leng(ft)</td>
                <td style="width: 33%">Width(ft)</td>
                <td style="width: 33%">Height(ft)</td>
              </tr>
            </table>
          </td>
          
          <td style="width: 10%">Weight(lb)</td>                        
        </tr>
        <tr *ngIf="mode==2">
          <th style="width: 10%">Quantities</th>
          <th style="width: 50%">Description</th>
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th colspan="3" style="text-align: center">Dimension</th>
              </tr>
              <tr>
                <td style="width: 34%">Leng(cm)</td>
                <td style="width: 33%">Width(cm)</td>
                <td style="width: 33%">Height(cm)</td>
              </tr>
            </table>
          </td>
          <td style="width: 10%">Weight(kg)</td>                        
        </tr>
        
        <tr *ngFor="let load of loadDetails">
          <td style="text-align: center; width: 10%">{{load.quantity}}</td>
          <td style="width: 50%">{{load.description}}</td> 
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <td style="width: 34%; text-align: right">{{load.longueur}}</td>
                <td style="width: 33%; text-align: right">{{load.largeur}}</td>
                <td style="width: 33%; text-align: right">{{load.hauteur}}</td>      
              </tr>
            </table>
          </td>
          
          <td style="text-align: right; width: 10%">{{load.poids}}</td>
        </tr>
        <tr>
          
          <th colspan="2" style="text-align: right; width: 60%">{{"Total length and weight : "}}</th> 
          <td colspan="2" style="width: 30%">
            <table border='1' style="font-size: 11pt; margin: 0px; width: 57mm">
              <tr>
                <th *ngIf="transport.longueur!=null" style="width: 34%; text-align: right">{{transport.longueur}}</th>
                <td style="width: 33%; text-align: center">{{" "}}</td>
                <td style="width: 33%; text-align: center">{{" "}}</td>      
              </tr>
            </table>
          </td>
          <th *ngIf="transport.poids!=null" style="text-align: right; width:10%">{{transport.poids}}</th>
        </tr> 
        <tr *ngIf="transport.waitingTime>0">
          <th colspan="2">Waiting Time : {{transport.waitingTime | number : '1.2'}} hours</th>
        </tr>
        <tr *ngIf="transport.waitingTime>0">
          <th colspan="2">PTO Time: {{transport.waitingTime | number : '1.2'}} hours</th>
        </tr>
      
        <tr> 
          <td colspan="5"style="text-align: left; text-anchor: start ">
              <span style="text-decoration-line: underline">More infos :</span> <span>&nbsp;{{transport.comments}} <br>&nbsp;</span>
          </td>
        </tr>
        <tr> 
          <td colspan="5"style="text-align: left; text-anchor: start ">
              <span style="text-decoration-line: underline">Note to Driver:</span> <span>&nbsp;{{transport.driverNote}} <br>&nbsp;</span>
          </td>
        </tr>
        <tr>
          <td colspan="5"style="text-align: left; text-anchor: start ">
            {{transport.nomSignature}}  <span>&nbsp;
              <img [src]="transport.signature" height="100" width="250" *ngIf="transport.signature.length>0">
            <br>&nbsp;</span>
          </td>
        </tr>
      </table>
    </div>
</div>
-->