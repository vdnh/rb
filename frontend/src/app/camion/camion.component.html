<div class="container spacer">
  <div class="panel panel-primary"> <!--*ngIf="mode==1"-->
    <div class="panel-heading"> 
        <h2> Gerer Camion : {{camion.unite}}  &nbsp;&nbsp;&nbsp; </h2>
        <button class="btn btn-link" (click)="onPress()">Voir camion {{camion.unite}} sur la carte</button>
        <p></p>
    </div>
    <div>
        <button class="btn btn-link" (click)="onInfos()">Infos</button>&nbsp;&nbsp;&nbsp;
        <button class="btn btn-link" (click)="onFiche()">Fiche Technique</button>&nbsp;&nbsp;&nbsp;
        <button class="btn btn-link" (click)="onEntretiens()">Entretiens a faire</button>
    </div>
    <div *ngIf="modeInfos==1">Infos</div>
    <div *ngIf="modeFiche==1">Fiche Technique</div>
    <div *ngIf="modeEntretiens==1">Entretiens a faire</div>
    <div class="panel-body">
        <table class="table table-striped table-sm table-responsive" *ngIf="modeInfos==1">
            <tr>
                <th>Numero Unite</th><th>Modele</th><th>Marque</th><th>Plaque</th>
            </tr>
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="camion.unite" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.modele" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.marque" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.plaque" /></td>
            </tr>
            <tr>
                <th>N.I.V</th><th>Annee</th><th>Type</th><th>Odometre</th>
            </tr>
            <tr>
                <td><input class="form-control" type="text" [(ngModel)]="camion.niv" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.annee" /></td>
                <td><input class="form-control" type="text" [(ngModel)]="camion.type" /></td>
                <td><input class="form-control" type="number" [(ngModel)]="camion.odometre" /></td>
            </tr>

            <tr><th colspan="8">A definir - Kilometrage a faire des entretiens suivants : </th></tr>
            <tr>
              <th>Hydrolique</th><th>Antigel-fil</th><th>Antigel-huile</th><th>Transmission</th><th>Differentiel</th>
            </tr>
            <tr>
              <td><input class="form-control" type="text" [(ngModel)]="camion.filHydrolique" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.filAntigel" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.huileAntigel" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.huileTransmission" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.huileDifferentiel" /></td>              
            </tr>
            <tr><th colspan="8">Les odometres de dernieres entretiens : </th></tr>
            <tr>
              <th>Entretien 1</th><th>Entretien 2</th><th>Entretien 3</th><th>Entretien 4</th><th>Entretien 5</th><th>Entretien 6</th><th>Entretien 7</th><th>Entretien 8</th>
            </tr>
            <tr>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo1Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo2Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo3Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo4Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo5Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo6Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo7Fait" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.odo8Fait" /></td>
            </tr>
            <tr>
              <th colspan="8">Inspection aux 6 mois</th>
            </tr>
            <tr>
              <td><input class="form-control" type="date" [(ngModel)]="camion.inspect6m" /></td>
            </tr>  
            <tr><th colspan="8">Localisation : </th></tr>
            <tr>
              <th>Latitude</th><th>Longtitude</th><th>En mission</th><th>Depart</th><th>Destination</th>
            </tr>
            <tr>              
              <td><input class="form-control" type="number" [(ngModel)]="camion.latitude" /></td>
              <td><input class="form-control" type="number" [(ngModel)]="camion.longtitude" /></td>
              <td><input class="form-control" type="checkbox" [(ngModel)]="camion.status" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.localDepart" /></td>
              <td><input class="form-control" type="text" [(ngModel)]="camion.destination" /></td>
            </tr>   
        </table>
        <table class="table table-striped table-sm table-responsive" *ngIf="modeEntretiens==1">
            <tr><th colspan="8">Les Entretiens a faire (code couleur - vert : pas besoins, jaune : conseille, rouge : oblige) </th></tr>
            <tr>
              <td colspan="2"><button (click)="onEntretien01()" class="btn btn-sm {{couleur01}}" [disabled]="disableButton(camion.odo1Fait, 25000)">Entretien 1 {{codeText(camion.odo1Fait, 25000)}}</button></td>
              <td colspan="2"><button (click)="onEntretien02()" class="btn btn-sm {{couleur02}}" [disabled]="disableButton(camion.odo2Fait, 50000)">Entretien 2 {{codeText(camion.odo2Fait, 50000)}}</button></td>
              <td colspan="2"><button (click)="onEntretien03()" class="btn btn-sm {{couleur03}}" [disabled]="disableButton(camion.odo3Fait, 100000)">Entretien 3 {{codeText(camion.odo3Fait, 100000)}}</button></td>
              <td colspan="2"><button (click)="onEntretien04()" class="btn btn-sm {{couleur04}}" [disabled]="disableButton(camion.odo4Fait, camion.filHydrolique)">Entretien 4 {{codeText(camion.odo4Fait, camion.filHydrolique)}}</button></td>
            </tr>
            <tr>
              <td colspan="2"><button (click)="onEntretien05()" class="btn btn-sm {{couleur05}}" [disabled]="disableButton(camion.odo5Fait, camion.filAntigel)">Entretien 5 {{codeText(camion.odo5Fait, camion.filAntigel)}}</button></td>
              <td colspan="2"><button (click)="onEntretien06()" class="btn btn-sm {{couleur06}}" [disabled]="disableButton(camion.odo6Fait, camion.huileAntigel)">Entretien 6 {{codeText(camion.odo6Fait, camion.huileAntigel)}}</button></td>
              <td colspan="2"><button (click)="onEntretien07()" class="btn btn-sm {{couleur07}}" [disabled]="disableButton(camion.odo7Fait, camion.huileTransmission)">Entretien 7 {{codeText(camion.odo7Fait, camion.huileTransmission)}}</button></td>
              <td colspan="2"><button (click)="onEntretien08()" class="btn btn-sm {{couleur08}}" [disabled]="disableButton(camion.odo8Fait, camion.huileDifferentiel)">Entretien 8 {{codeText(camion.odo8Fait, camion.huileDifferentiel)}}</button></td>
            </tr>
            <tr>
              <td colspan="2"><button (click)="onInspect6()" class="btn btn-sm {{couleur09}}" [disabled]="disableButtonInspect()">Inspection aux 6 mois {{codeTextInspect()}}</button></td>
            </tr>
        </table>                 
    </div>   
    <div>
        <table class="table table-striped table-responsive"> 
            <td><button class="btn btn-primary" (click)="saveCamion()">Ok - Modifier Camion</button></td>
            <td><button class="btn btn-primary" (click)="gotoDetailTransporter(camion.idTransporter)">Quit</button></td> 
            <td></td>
            <td></td>
            <td></td>
            <td></td>                  
        </table>
    </div>
  </div>